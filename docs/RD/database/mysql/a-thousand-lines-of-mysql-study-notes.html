<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.ezfri.com/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html"><meta property="og:site_name" content="EzFri"><meta property="og:title" content="ä¸€åƒè¡Œ MySQL å­¦ä¹ ç¬”è®°"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-02T13:59:58.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="MySQL"><meta property="article:modified_time" content="2022-12-02T13:59:58.000Z"><meta name="robots" content="all"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="JavaåŸºç¡€, å¤šçº¿ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, ç³»ç»Ÿè®¾è®¡, åˆ†å¸ƒå¼, RPC, é«˜å¯ç”¨, é«˜å¹¶å‘"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3485688_dgpj0gum7f.css"><title>ä¸€åƒè¡Œ MySQL å­¦ä¹ ç¬”è®° | EzFri</title><meta name="description" content="EzFriçŸ¥è¯†åº“">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/ezdoc/assets/style.ee606931.css">
    <link rel="modulepreload" href="/ezdoc/assets/app.e590b483.js"><link rel="modulepreload" href="/ezdoc/assets/a-thousand-lines-of-mysql-study-notes.html.bb07795c.js"><link rel="modulepreload" href="/ezdoc/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/ezdoc/assets/a-thousand-lines-of-mysql-study-notes.html.cd8304ef.js"><link rel="prefetch" href="/ezdoc/assets/home.html.ef651861.js"><link rel="prefetch" href="/ezdoc/assets/index.html.b77787f9.js"><link rel="prefetch" href="/ezdoc/assets/slide.html.b878a05b.js"><link rel="prefetch" href="/ezdoc/assets/home.html.d6acca0c.js"><link rel="prefetch" href="/ezdoc/assets/home.html.33e9e922.js"><link rel="prefetch" href="/ezdoc/assets/home.html.9feb4c1c.js"><link rel="prefetch" href="/ezdoc/assets/home.html.d6298c23.js"><link rel="prefetch" href="/ezdoc/assets/interview-ready.html.f1f46562.js"><link rel="prefetch" href="/ezdoc/assets/interview-recards.html.23f0d001.js"><link rel="prefetch" href="/ezdoc/assets/devops.html.68373045.js"><link rel="prefetch" href="/ezdoc/assets/basis.html.d5e23c74.js"><link rel="prefetch" href="/ezdoc/assets/character-set.html.56a58177.js"><link rel="prefetch" href="/ezdoc/assets/cluster.html.2d6cc969.js"><link rel="prefetch" href="/ezdoc/assets/disaster-recovery_remote-live.html.6969d2b8.js"><link rel="prefetch" href="/ezdoc/assets/fallback_circuit-breaker.html.84438084.js"><link rel="prefetch" href="/ezdoc/assets/high-availability-system-design.html.5ee8f676.js"><link rel="prefetch" href="/ezdoc/assets/limit-request.html.157b6d64.js"><link rel="prefetch" href="/ezdoc/assets/performance-test.html.6b3468b4.js"><link rel="prefetch" href="/ezdoc/assets/timeout-and-retry.html.9e8686c1.js"><link rel="prefetch" href="/ezdoc/assets/api-gateway.html.3aa58c04.js"><link rel="prefetch" href="/ezdoc/assets/distributed-id.html.5384bd89.js"><link rel="prefetch" href="/ezdoc/assets/distributed-transaction.html.7e366220.js"><link rel="prefetch" href="/ezdoc/assets/load-balancing.html.e62199c9.js"><link rel="prefetch" href="/ezdoc/assets/read-and-write-separation-and-library-subtable.html.22c5c218.js"><link rel="prefetch" href="/ezdoc/assets/design-pattern.html.f00ce43b.js"><link rel="prefetch" href="/ezdoc/assets/J2EEåŸºç¡€çŸ¥è¯†.html.a963f40a.js"><link rel="prefetch" href="/ezdoc/assets/schedule-task.html.cf6c7754.js"><link rel="prefetch" href="/ezdoc/assets/system-design-questions.html.c10f6fc2.js"><link rel="prefetch" href="/ezdoc/assets/10-classical-sorting-algorithms.html.10e2bb8c.js"><link rel="prefetch" href="/ezdoc/assets/linkedlist-algorithm-problems.html.482f6f55.js"><link rel="prefetch" href="/ezdoc/assets/string-algorithm-problems.html.492a700a.js"><link rel="prefetch" href="/ezdoc/assets/the-sword-refers-to-offer.html.e66f8e48.js"><link rel="prefetch" href="/ezdoc/assets/bloom-filter.html.eee2cb7e.js"><link rel="prefetch" href="/ezdoc/assets/graph.html.905171d8.js"><link rel="prefetch" href="/ezdoc/assets/heap.html.7809275e.js"><link rel="prefetch" href="/ezdoc/assets/linear-data-structure.html.b9282d9b.js"><link rel="prefetch" href="/ezdoc/assets/red-black-tree.html.43c0f852.js"><link rel="prefetch" href="/ezdoc/assets/tree.html.3ebeefdc.js"><link rel="prefetch" href="/ezdoc/assets/http_https.html.55b9db89.js"><link rel="prefetch" href="/ezdoc/assets/http1.0_http1.1.html.e514003a.js"><link rel="prefetch" href="/ezdoc/assets/osi_tcp-ip-model.html.f251a641.js"><link rel="prefetch" href="/ezdoc/assets/other-network-questions.html.5e3104b2.js"><link rel="prefetch" href="/ezdoc/assets/è®¡ç®—æœºç½‘ç»œå†…å®¹æ€»ç»“.html.0df7645f.js"><link rel="prefetch" href="/ezdoc/assets/linux-intro.html.b3d3728c.js"><link rel="prefetch" href="/ezdoc/assets/operating-system-basic-questions-01.html.07eecb54.js"><link rel="prefetch" href="/ezdoc/assets/shell-intro.html.58bd45e4.js"><link rel="prefetch" href="/ezdoc/assets/how-sql-executed-in-mysql.html.3edc5dd4.js"><link rel="prefetch" href="/ezdoc/assets/index-invalidation-caused-by-implicit-conversion.html.e92a2b3c.js"><link rel="prefetch" href="/ezdoc/assets/innodb-implementation-of-mvcc.html.4f053a94.js"><link rel="prefetch" href="/ezdoc/assets/mysql-high-performance-optimization-specification-recommendations.html.6fa5f5c4.js"><link rel="prefetch" href="/ezdoc/assets/mysql-index.html.edc82ff0.js"><link rel="prefetch" href="/ezdoc/assets/mysql-logs.html.ee524163.js"><link rel="prefetch" href="/ezdoc/assets/mysql-questions-01.html.b0a64233.js"><link rel="prefetch" href="/ezdoc/assets/some-thoughts-on-database-storage-time.html.4f2afd44.js"><link rel="prefetch" href="/ezdoc/assets/transaction-isolation-level.html.1e91fc4c.js"><link rel="prefetch" href="/ezdoc/assets/3-commonly-used-cache-read-and-write-strategies.html.24dc1eb4.js"><link rel="prefetch" href="/ezdoc/assets/cache-basics.html.f49e7dcd.js"><link rel="prefetch" href="/ezdoc/assets/redis-cluster.html.def20caf.js"><link rel="prefetch" href="/ezdoc/assets/redis-memory-fragmentation.html.9b91c8bb.js"><link rel="prefetch" href="/ezdoc/assets/redis-questions-01.html.4210088a.js"><link rel="prefetch" href="/ezdoc/assets/dubbo.html.8095ac35.js"><link rel="prefetch" href="/ezdoc/assets/why-use-rpc.html.858b0714.js"><link rel="prefetch" href="/ezdoc/assets/cap_base-theorem.html.87c781dc.js"><link rel="prefetch" href="/ezdoc/assets/gossip.html.a95f1cc3.js"><link rel="prefetch" href="/ezdoc/assets/paxos-algorithm.html.2471715c.js"><link rel="prefetch" href="/ezdoc/assets/raft-algorithm.html.48b7be3f.js"><link rel="prefetch" href="/ezdoc/assets/kafka-questions-01.html.22f5a341.js"><link rel="prefetch" href="/ezdoc/assets/message-queue.html.5b1be732.js"><link rel="prefetch" href="/ezdoc/assets/rabbitmq-intro.html.cfdf2305.js"><link rel="prefetch" href="/ezdoc/assets/rocketmq-intro.html.6168b298.js"><link rel="prefetch" href="/ezdoc/assets/rocketmq-questions.html.5f51f76c.js"><link rel="prefetch" href="/ezdoc/assets/bigdecimal.html.7ee769af.js"><link rel="prefetch" href="/ezdoc/assets/io.html.f1820787.js"><link rel="prefetch" href="/ezdoc/assets/java-basic-01.html.b04f800d.js"><link rel="prefetch" href="/ezdoc/assets/java-basic-02.html.33e25b57.js"><link rel="prefetch" href="/ezdoc/assets/java-basic-03.html.41bcdaa2.js"><link rel="prefetch" href="/ezdoc/assets/proxy.html.d4369e89.js"><link rel="prefetch" href="/ezdoc/assets/reflection.html.fd2314e1.js"><link rel="prefetch" href="/ezdoc/assets/serialization.html.415ef0c7.js"><link rel="prefetch" href="/ezdoc/assets/why-there-only-value-passing-in-java.html.aa07c335.js"><link rel="prefetch" href="/ezdoc/assets/java-collection-precautions-for-use.html.aae882a6.js"><link rel="prefetch" href="/ezdoc/assets/java-collection-questions-01.html.4a9c80f3.js"><link rel="prefetch" href="/ezdoc/assets/java-collection-questions-02.html.9a625ab0.js"><link rel="prefetch" href="/ezdoc/assets/aqs.html.3badd22f.js"><link rel="prefetch" href="/ezdoc/assets/atomic-classes.html.acc9b1eb.js"><link rel="prefetch" href="/ezdoc/assets/completablefuture-intro.html.097ec8f0.js"><link rel="prefetch" href="/ezdoc/assets/java-concurrent-collections.html.becd8c18.js"><link rel="prefetch" href="/ezdoc/assets/java-concurrent-questions-01.html.19a69b48.js"><link rel="prefetch" href="/ezdoc/assets/java-concurrent-questions-02.html.c048c77d.js"><link rel="prefetch" href="/ezdoc/assets/java-thread-pool-best-practices.html.2d74535b.js"><link rel="prefetch" href="/ezdoc/assets/java-thread-pool-summary.html.af3e8fe2.js"><link rel="prefetch" href="/ezdoc/assets/reentrantlock.html.ae7aa93e.js"><link rel="prefetch" href="/ezdoc/assets/threadlocal.html.5c77ace7.js"><link rel="prefetch" href="/ezdoc/assets/classloader.html.84047845.js"><link rel="prefetch" href="/ezdoc/assets/java-jvm-questions-01.html.e5a4a796.js"><link rel="prefetch" href="/ezdoc/assets/jvm-intro.html.ef60f1bf.js"><link rel="prefetch" href="/ezdoc/assets/jvm-parameters-intro.html.d154229b.js"><link rel="prefetch" href="/ezdoc/assets/java10.html.1d439a1b.js"><link rel="prefetch" href="/ezdoc/assets/java11.html.27eeeb9d.js"><link rel="prefetch" href="/ezdoc/assets/java12-13.html.d51c7ddc.js"><link rel="prefetch" href="/ezdoc/assets/java14-15.html.739c461d.js"><link rel="prefetch" href="/ezdoc/assets/java8-common-new-features.html.bdcc5ca8.js"><link rel="prefetch" href="/ezdoc/assets/java8-tutorial-translate.html.11f2e56b.js"><link rel="prefetch" href="/ezdoc/assets/java9.html.1a49d4d6.js"><link rel="prefetch" href="/ezdoc/assets/naming.html.de66b17b.js"><link rel="prefetch" href="/ezdoc/assets/refactoring.html.8c2c6614.js"><link rel="prefetch" href="/ezdoc/assets/RESTfulAPI.html.ceefa93c.js"><link rel="prefetch" href="/ezdoc/assets/netty.html.7f76e398.js"><link rel="prefetch" href="/ezdoc/assets/advantages_disadvantages-of-jwt.html.4a2a7491.js"><link rel="prefetch" href="/ezdoc/assets/basis-of-authority-certification.html.d89d4c69.js"><link rel="prefetch" href="/ezdoc/assets/data-desensitization.html.7247502e.js"><link rel="prefetch" href="/ezdoc/assets/jwt-intro.html.9aed50e2.js"><link rel="prefetch" href="/ezdoc/assets/sentive-words-filter.html.50f58369.js"><link rel="prefetch" href="/ezdoc/assets/sso-intro.html.53d70895.js"><link rel="prefetch" href="/ezdoc/assets/md-editor.html.14410437.js"><link rel="prefetch" href="/ezdoc/assets/plugin-tools.html.dd5be7db.js"><link rel="prefetch" href="/ezdoc/assets/zookeeper-in-action.html.f26f86a0.js"><link rel="prefetch" href="/ezdoc/assets/zookeeper-intro.html.b70c8797.js"><link rel="prefetch" href="/ezdoc/assets/zookeeper-plus.html.c6b0e934.js"><link rel="prefetch" href="/ezdoc/assets/arraylist-source-code.html.cd924535.js"><link rel="prefetch" href="/ezdoc/assets/concurrent-hash-map-source-code.html.d048bae1.js"><link rel="prefetch" href="/ezdoc/assets/hashmap-source-code.html.952edf2f.js"><link rel="prefetch" href="/ezdoc/assets/page.html.74b8a3d2.js"><link rel="prefetch" href="/ezdoc/assets/page.html.9b79803f.js"><link rel="prefetch" href="/ezdoc/assets/page.html.e0816c1b.js"><link rel="prefetch" href="/ezdoc/assets/page.html.ceb6bc00.js"><link rel="prefetch" href="/ezdoc/assets/page.html.482f2585.js"><link rel="prefetch" href="/ezdoc/assets/mybatis-interview.html.a1a13515.js"><link rel="prefetch" href="/ezdoc/assets/spring-boot-auto-assembly-principles.html.5c64a594.js"><link rel="prefetch" href="/ezdoc/assets/spring-common-annotations.html.7ae4c891.js"><link rel="prefetch" href="/ezdoc/assets/spring-design-patterns-summary.html.30db9434.js"><link rel="prefetch" href="/ezdoc/assets/spring-knowledge-and-questions-summary.html.a87b1ed4.js"><link rel="prefetch" href="/ezdoc/assets/spring-transaction.html.96ff1d28.js"><link rel="prefetch" href="/ezdoc/assets/springcloud-intro.html.1c49e9d5.js"><link rel="prefetch" href="/ezdoc/assets/git-intro.html.e1e97f42.js"><link rel="prefetch" href="/ezdoc/assets/github-tips.html.938940e6.js"><link rel="prefetch" href="/ezdoc/assets/404.html.287516f4.js"><link rel="prefetch" href="/ezdoc/assets/index.html.5a542da6.js"><link rel="prefetch" href="/ezdoc/assets/index.html.f20747b7.js"><link rel="prefetch" href="/ezdoc/assets/index.html.7da39596.js"><link rel="prefetch" href="/ezdoc/assets/index.html.f99e5a0a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.812a6a42.js"><link rel="prefetch" href="/ezdoc/assets/index.html.a395bdba.js"><link rel="prefetch" href="/ezdoc/assets/index.html.cd8c8644.js"><link rel="prefetch" href="/ezdoc/assets/index.html.451999b9.js"><link rel="prefetch" href="/ezdoc/assets/index.html.f3d297de.js"><link rel="prefetch" href="/ezdoc/assets/index.html.b25dd062.js"><link rel="prefetch" href="/ezdoc/assets/index.html.cdcca40a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.a6e4e989.js"><link rel="prefetch" href="/ezdoc/assets/index.html.d9505500.js"><link rel="prefetch" href="/ezdoc/assets/index.html.2f9aeaf9.js"><link rel="prefetch" href="/ezdoc/assets/index.html.e742f0b3.js"><link rel="prefetch" href="/ezdoc/assets/index.html.e0d1baf0.js"><link rel="prefetch" href="/ezdoc/assets/index.html.e8f4d26e.js"><link rel="prefetch" href="/ezdoc/assets/index.html.cf024fa2.js"><link rel="prefetch" href="/ezdoc/assets/index.html.c5d37a00.js"><link rel="prefetch" href="/ezdoc/assets/index.html.7fd147a8.js"><link rel="prefetch" href="/ezdoc/assets/index.html.797e3bfa.js"><link rel="prefetch" href="/ezdoc/assets/index.html.555e6d18.js"><link rel="prefetch" href="/ezdoc/assets/index.html.89ec6cf5.js"><link rel="prefetch" href="/ezdoc/assets/index.html.91d2ebf0.js"><link rel="prefetch" href="/ezdoc/assets/index.html.1b17d833.js"><link rel="prefetch" href="/ezdoc/assets/index.html.6bb71a4a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.00c99aea.js"><link rel="prefetch" href="/ezdoc/assets/index.html.80246666.js"><link rel="prefetch" href="/ezdoc/assets/index.html.4154bcf1.js"><link rel="prefetch" href="/ezdoc/assets/index.html.3af038c6.js"><link rel="prefetch" href="/ezdoc/assets/index.html.305eb2cf.js"><link rel="prefetch" href="/ezdoc/assets/index.html.eba8b39a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.eca7c76b.js"><link rel="prefetch" href="/ezdoc/assets/index.html.e48f118d.js"><link rel="prefetch" href="/ezdoc/assets/index.html.3993ebbe.js"><link rel="prefetch" href="/ezdoc/assets/index.html.1e8b369a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.9f57ab34.js"><link rel="prefetch" href="/ezdoc/assets/index.html.ad11bb71.js"><link rel="prefetch" href="/ezdoc/assets/index.html.8471f3b9.js"><link rel="prefetch" href="/ezdoc/assets/index.html.1df9b424.js"><link rel="prefetch" href="/ezdoc/assets/home.html.cefa8743.js"><link rel="prefetch" href="/ezdoc/assets/index.html.99f26378.js"><link rel="prefetch" href="/ezdoc/assets/slide.html.43e15766.js"><link rel="prefetch" href="/ezdoc/assets/home.html.f519f1f3.js"><link rel="prefetch" href="/ezdoc/assets/home.html.2df138b9.js"><link rel="prefetch" href="/ezdoc/assets/home.html.98dca129.js"><link rel="prefetch" href="/ezdoc/assets/home.html.d29fdcf2.js"><link rel="prefetch" href="/ezdoc/assets/interview-ready.html.c25294d2.js"><link rel="prefetch" href="/ezdoc/assets/interview-recards.html.dbddf635.js"><link rel="prefetch" href="/ezdoc/assets/devops.html.de7448fd.js"><link rel="prefetch" href="/ezdoc/assets/basis.html.631edac9.js"><link rel="prefetch" href="/ezdoc/assets/character-set.html.09d25d4d.js"><link rel="prefetch" href="/ezdoc/assets/cluster.html.d07c39d8.js"><link rel="prefetch" href="/ezdoc/assets/disaster-recovery_remote-live.html.2a840233.js"><link rel="prefetch" href="/ezdoc/assets/fallback_circuit-breaker.html.b63ee72d.js"><link rel="prefetch" href="/ezdoc/assets/high-availability-system-design.html.b7fe70f6.js"><link rel="prefetch" href="/ezdoc/assets/limit-request.html.ba8fc33b.js"><link rel="prefetch" href="/ezdoc/assets/performance-test.html.2c7a78d6.js"><link rel="prefetch" href="/ezdoc/assets/timeout-and-retry.html.430db108.js"><link rel="prefetch" href="/ezdoc/assets/api-gateway.html.56e67d2e.js"><link rel="prefetch" href="/ezdoc/assets/distributed-id.html.44dc774b.js"><link rel="prefetch" href="/ezdoc/assets/distributed-transaction.html.62071dc5.js"><link rel="prefetch" href="/ezdoc/assets/load-balancing.html.9034999a.js"><link rel="prefetch" href="/ezdoc/assets/read-and-write-separation-and-library-subtable.html.1478397d.js"><link rel="prefetch" href="/ezdoc/assets/design-pattern.html.4a2feeda.js"><link rel="prefetch" href="/ezdoc/assets/J2EEåŸºç¡€çŸ¥è¯†.html.c6d934c9.js"><link rel="prefetch" href="/ezdoc/assets/schedule-task.html.72cabee4.js"><link rel="prefetch" href="/ezdoc/assets/system-design-questions.html.b2ee49f6.js"><link rel="prefetch" href="/ezdoc/assets/10-classical-sorting-algorithms.html.59c4f05d.js"><link rel="prefetch" href="/ezdoc/assets/linkedlist-algorithm-problems.html.f9d003b0.js"><link rel="prefetch" href="/ezdoc/assets/string-algorithm-problems.html.221314a3.js"><link rel="prefetch" href="/ezdoc/assets/the-sword-refers-to-offer.html.6c23bd15.js"><link rel="prefetch" href="/ezdoc/assets/bloom-filter.html.c8b38393.js"><link rel="prefetch" href="/ezdoc/assets/graph.html.5410d409.js"><link rel="prefetch" href="/ezdoc/assets/heap.html.37b51b06.js"><link rel="prefetch" href="/ezdoc/assets/linear-data-structure.html.1dccf3cd.js"><link rel="prefetch" href="/ezdoc/assets/red-black-tree.html.e08d6d2f.js"><link rel="prefetch" href="/ezdoc/assets/tree.html.a7aa63be.js"><link rel="prefetch" href="/ezdoc/assets/http_https.html.29009568.js"><link rel="prefetch" href="/ezdoc/assets/http1.0_http1.1.html.5abe9a9b.js"><link rel="prefetch" href="/ezdoc/assets/osi_tcp-ip-model.html.d66dee54.js"><link rel="prefetch" href="/ezdoc/assets/other-network-questions.html.e3471fc4.js"><link rel="prefetch" href="/ezdoc/assets/è®¡ç®—æœºç½‘ç»œå†…å®¹æ€»ç»“.html.87c5e5b9.js"><link rel="prefetch" href="/ezdoc/assets/linux-intro.html.5239a4d4.js"><link rel="prefetch" href="/ezdoc/assets/operating-system-basic-questions-01.html.a550420e.js"><link rel="prefetch" href="/ezdoc/assets/shell-intro.html.7b396977.js"><link rel="prefetch" href="/ezdoc/assets/how-sql-executed-in-mysql.html.f672b264.js"><link rel="prefetch" href="/ezdoc/assets/index-invalidation-caused-by-implicit-conversion.html.0b2f28f1.js"><link rel="prefetch" href="/ezdoc/assets/innodb-implementation-of-mvcc.html.7cbbda28.js"><link rel="prefetch" href="/ezdoc/assets/mysql-high-performance-optimization-specification-recommendations.html.1ccba095.js"><link rel="prefetch" href="/ezdoc/assets/mysql-index.html.c4fca67a.js"><link rel="prefetch" href="/ezdoc/assets/mysql-logs.html.650e1f7f.js"><link rel="prefetch" href="/ezdoc/assets/mysql-questions-01.html.5a2c45e0.js"><link rel="prefetch" href="/ezdoc/assets/some-thoughts-on-database-storage-time.html.70dd7b6e.js"><link rel="prefetch" href="/ezdoc/assets/transaction-isolation-level.html.07d4c49b.js"><link rel="prefetch" href="/ezdoc/assets/3-commonly-used-cache-read-and-write-strategies.html.a372a119.js"><link rel="prefetch" href="/ezdoc/assets/cache-basics.html.fdaefdcd.js"><link rel="prefetch" href="/ezdoc/assets/redis-cluster.html.8042e3f5.js"><link rel="prefetch" href="/ezdoc/assets/redis-memory-fragmentation.html.515200c8.js"><link rel="prefetch" href="/ezdoc/assets/redis-questions-01.html.79597d8d.js"><link rel="prefetch" href="/ezdoc/assets/dubbo.html.f56fd0b0.js"><link rel="prefetch" href="/ezdoc/assets/why-use-rpc.html.a0ca3f91.js"><link rel="prefetch" href="/ezdoc/assets/cap_base-theorem.html.20484841.js"><link rel="prefetch" href="/ezdoc/assets/gossip.html.da72f8bd.js"><link rel="prefetch" href="/ezdoc/assets/paxos-algorithm.html.d6cd0cbd.js"><link rel="prefetch" href="/ezdoc/assets/raft-algorithm.html.05c36ad1.js"><link rel="prefetch" href="/ezdoc/assets/kafka-questions-01.html.0593c1fe.js"><link rel="prefetch" href="/ezdoc/assets/message-queue.html.6351b8f4.js"><link rel="prefetch" href="/ezdoc/assets/rabbitmq-intro.html.7d03eafc.js"><link rel="prefetch" href="/ezdoc/assets/rocketmq-intro.html.d61d39cc.js"><link rel="prefetch" href="/ezdoc/assets/rocketmq-questions.html.04aad203.js"><link rel="prefetch" href="/ezdoc/assets/bigdecimal.html.f21d7507.js"><link rel="prefetch" href="/ezdoc/assets/io.html.0aed18e7.js"><link rel="prefetch" href="/ezdoc/assets/java-basic-01.html.f9ece4ea.js"><link rel="prefetch" href="/ezdoc/assets/java-basic-02.html.7bee5880.js"><link rel="prefetch" href="/ezdoc/assets/java-basic-03.html.1d640c64.js"><link rel="prefetch" href="/ezdoc/assets/proxy.html.0e3b62ae.js"><link rel="prefetch" href="/ezdoc/assets/reflection.html.b9e3f76e.js"><link rel="prefetch" href="/ezdoc/assets/serialization.html.85b760e6.js"><link rel="prefetch" href="/ezdoc/assets/why-there-only-value-passing-in-java.html.36b72cbb.js"><link rel="prefetch" href="/ezdoc/assets/java-collection-precautions-for-use.html.3def6f15.js"><link rel="prefetch" href="/ezdoc/assets/java-collection-questions-01.html.728911e7.js"><link rel="prefetch" href="/ezdoc/assets/java-collection-questions-02.html.c067c8bc.js"><link rel="prefetch" href="/ezdoc/assets/aqs.html.e652273c.js"><link rel="prefetch" href="/ezdoc/assets/atomic-classes.html.3a45619a.js"><link rel="prefetch" href="/ezdoc/assets/completablefuture-intro.html.d62f04ec.js"><link rel="prefetch" href="/ezdoc/assets/java-concurrent-collections.html.a9817c4e.js"><link rel="prefetch" href="/ezdoc/assets/java-concurrent-questions-01.html.43ad0abf.js"><link rel="prefetch" href="/ezdoc/assets/java-concurrent-questions-02.html.910041da.js"><link rel="prefetch" href="/ezdoc/assets/java-thread-pool-best-practices.html.a9b45966.js"><link rel="prefetch" href="/ezdoc/assets/java-thread-pool-summary.html.2fc0bc85.js"><link rel="prefetch" href="/ezdoc/assets/reentrantlock.html.287f6fe9.js"><link rel="prefetch" href="/ezdoc/assets/threadlocal.html.aa7d59cb.js"><link rel="prefetch" href="/ezdoc/assets/classloader.html.3380affa.js"><link rel="prefetch" href="/ezdoc/assets/java-jvm-questions-01.html.ef7b9972.js"><link rel="prefetch" href="/ezdoc/assets/jvm-intro.html.9e9781dd.js"><link rel="prefetch" href="/ezdoc/assets/jvm-parameters-intro.html.48427c3f.js"><link rel="prefetch" href="/ezdoc/assets/java10.html.90a524ef.js"><link rel="prefetch" href="/ezdoc/assets/java11.html.d676f755.js"><link rel="prefetch" href="/ezdoc/assets/java12-13.html.962ab16f.js"><link rel="prefetch" href="/ezdoc/assets/java14-15.html.e8e9c1ca.js"><link rel="prefetch" href="/ezdoc/assets/java8-common-new-features.html.5ac5bc13.js"><link rel="prefetch" href="/ezdoc/assets/java8-tutorial-translate.html.dbde2f60.js"><link rel="prefetch" href="/ezdoc/assets/java9.html.52f86b41.js"><link rel="prefetch" href="/ezdoc/assets/naming.html.efe22765.js"><link rel="prefetch" href="/ezdoc/assets/refactoring.html.14d1de73.js"><link rel="prefetch" href="/ezdoc/assets/RESTfulAPI.html.721d0caa.js"><link rel="prefetch" href="/ezdoc/assets/netty.html.d3ae065f.js"><link rel="prefetch" href="/ezdoc/assets/advantages_disadvantages-of-jwt.html.f1cd9069.js"><link rel="prefetch" href="/ezdoc/assets/basis-of-authority-certification.html.3a0ca4db.js"><link rel="prefetch" href="/ezdoc/assets/data-desensitization.html.f1796f15.js"><link rel="prefetch" href="/ezdoc/assets/jwt-intro.html.5c35df64.js"><link rel="prefetch" href="/ezdoc/assets/sentive-words-filter.html.53cd7c0e.js"><link rel="prefetch" href="/ezdoc/assets/sso-intro.html.5c7ab685.js"><link rel="prefetch" href="/ezdoc/assets/md-editor.html.30cd64fe.js"><link rel="prefetch" href="/ezdoc/assets/plugin-tools.html.2edee389.js"><link rel="prefetch" href="/ezdoc/assets/zookeeper-in-action.html.b01e9fa0.js"><link rel="prefetch" href="/ezdoc/assets/zookeeper-intro.html.dfeda6c8.js"><link rel="prefetch" href="/ezdoc/assets/zookeeper-plus.html.c8d0c944.js"><link rel="prefetch" href="/ezdoc/assets/arraylist-source-code.html.6510d287.js"><link rel="prefetch" href="/ezdoc/assets/concurrent-hash-map-source-code.html.c91c03d7.js"><link rel="prefetch" href="/ezdoc/assets/hashmap-source-code.html.4b1ecf8c.js"><link rel="prefetch" href="/ezdoc/assets/page.html.3f0b419a.js"><link rel="prefetch" href="/ezdoc/assets/page.html.c2a301dc.js"><link rel="prefetch" href="/ezdoc/assets/page.html.b048cb0f.js"><link rel="prefetch" href="/ezdoc/assets/page.html.5d72a55e.js"><link rel="prefetch" href="/ezdoc/assets/page.html.d9344c03.js"><link rel="prefetch" href="/ezdoc/assets/mybatis-interview.html.959bbeaf.js"><link rel="prefetch" href="/ezdoc/assets/spring-boot-auto-assembly-principles.html.285702e4.js"><link rel="prefetch" href="/ezdoc/assets/spring-common-annotations.html.b157386d.js"><link rel="prefetch" href="/ezdoc/assets/spring-design-patterns-summary.html.f9994364.js"><link rel="prefetch" href="/ezdoc/assets/spring-knowledge-and-questions-summary.html.bb6c3c73.js"><link rel="prefetch" href="/ezdoc/assets/spring-transaction.html.45263fa5.js"><link rel="prefetch" href="/ezdoc/assets/springcloud-intro.html.2f9490b6.js"><link rel="prefetch" href="/ezdoc/assets/git-intro.html.4837b86f.js"><link rel="prefetch" href="/ezdoc/assets/github-tips.html.9a3f9803.js"><link rel="prefetch" href="/ezdoc/assets/404.html.98f4e604.js"><link rel="prefetch" href="/ezdoc/assets/index.html.af4f1bef.js"><link rel="prefetch" href="/ezdoc/assets/index.html.cc4b1a5d.js"><link rel="prefetch" href="/ezdoc/assets/index.html.23f0dcc5.js"><link rel="prefetch" href="/ezdoc/assets/index.html.1472587d.js"><link rel="prefetch" href="/ezdoc/assets/index.html.cb59656a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.611c56df.js"><link rel="prefetch" href="/ezdoc/assets/index.html.af68796a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.3b2a9f01.js"><link rel="prefetch" href="/ezdoc/assets/index.html.56d33108.js"><link rel="prefetch" href="/ezdoc/assets/index.html.4c452ad3.js"><link rel="prefetch" href="/ezdoc/assets/index.html.d8068490.js"><link rel="prefetch" href="/ezdoc/assets/index.html.0c8ef596.js"><link rel="prefetch" href="/ezdoc/assets/index.html.04dca0fe.js"><link rel="prefetch" href="/ezdoc/assets/index.html.d6061567.js"><link rel="prefetch" href="/ezdoc/assets/index.html.7632b1f0.js"><link rel="prefetch" href="/ezdoc/assets/index.html.cd3e945f.js"><link rel="prefetch" href="/ezdoc/assets/index.html.1457cb9f.js"><link rel="prefetch" href="/ezdoc/assets/index.html.c74445a4.js"><link rel="prefetch" href="/ezdoc/assets/index.html.3f459532.js"><link rel="prefetch" href="/ezdoc/assets/index.html.9b16350f.js"><link rel="prefetch" href="/ezdoc/assets/index.html.c834154d.js"><link rel="prefetch" href="/ezdoc/assets/index.html.12dcfcdc.js"><link rel="prefetch" href="/ezdoc/assets/index.html.1c35b2d0.js"><link rel="prefetch" href="/ezdoc/assets/index.html.96a8d84a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.a8ce74d7.js"><link rel="prefetch" href="/ezdoc/assets/index.html.359913cc.js"><link rel="prefetch" href="/ezdoc/assets/index.html.996a1c83.js"><link rel="prefetch" href="/ezdoc/assets/index.html.78bef0eb.js"><link rel="prefetch" href="/ezdoc/assets/index.html.7f615186.js"><link rel="prefetch" href="/ezdoc/assets/index.html.3b3a7cc9.js"><link rel="prefetch" href="/ezdoc/assets/index.html.c60a8fb4.js"><link rel="prefetch" href="/ezdoc/assets/index.html.133f7501.js"><link rel="prefetch" href="/ezdoc/assets/index.html.817d3bba.js"><link rel="prefetch" href="/ezdoc/assets/index.html.f27ee682.js"><link rel="prefetch" href="/ezdoc/assets/index.html.dffa494a.js"><link rel="prefetch" href="/ezdoc/assets/index.html.8ca51369.js"><link rel="prefetch" href="/ezdoc/assets/index.html.a55881b9.js"><link rel="prefetch" href="/ezdoc/assets/index.html.eddfc8a9.js"><link rel="prefetch" href="/ezdoc/assets/index.html.29611909.js"><link rel="prefetch" href="/ezdoc/assets/index.html.090623aa.js"><link rel="prefetch" href="/ezdoc/assets/404.5f390bf7.js"><link rel="prefetch" href="/ezdoc/assets/Layout.870cb65f.js"><link rel="prefetch" href="/ezdoc/assets/Slide.80d98b7f.js"><link rel="prefetch" href="/ezdoc/assets/Blog.aa9c2d45.js"><link rel="prefetch" href="/ezdoc/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/ezdoc/assets/index.daae04bf.js"><link rel="prefetch" href="/ezdoc/assets/index.1842ee54.js"><link rel="prefetch" href="/ezdoc/assets/mermaid.esm.min.d8b76e20.js"><link rel="prefetch" href="/ezdoc/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/ezdoc/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/ezdoc/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/ezdoc/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/ezdoc/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/ezdoc/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/ezdoc/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/ezdoc/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/ezdoc/" class="brand"><img class="logo" src="/ezdoc/logo.png" alt="EzFri"><!----><span class="site-name hide-in-pad">EzFri</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="çŸ¥è¯†åº“"><span class="title"><span class="icon iconfont icon-knowledge" style=""></span>çŸ¥è¯†åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/ezdoc/RD/home.html" class="nav-link" aria-label="åç«¯"><span class="icon iconfont icon-houduankaifa" style=""></span>åç«¯<!----></a></li><li class="dropdown-item"><a href="/ezdoc/FE/home.html" class="nav-link" aria-label="å‰ç«¯"><span class="icon iconfont icon-qianduankaifa" style=""></span>å‰ç«¯<!----></a></li><li class="dropdown-item"><a href="/ezdoc/OP/home.html" class="nav-link" aria-label="è¿ç»´"><span class="icon iconfont icon-yunwei" style=""></span>è¿ç»´<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/ezdoc/extend/home/" class="nav-link" aria-label="äººç”Ÿå¦‚é…’"><span class="icon iconfont icon-jiushuihongjiuhongjiubei" style=""></span>äººç”Ÿå¦‚é…’<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/heplex/EzfriDocs" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-java" style=""></span><span class="title">Java</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-computer" style=""></span><span class="title">è®¡ç®—æœºåŸºç¡€</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-database" style=""></span><span class="title">æ•°æ®åº“</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-basic" style=""></span><span class="title">åŸºç¡€</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-mysql" style=""></span><span class="title">MySQL</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/ezdoc/RD/database/mysql/mysql-questions-01.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLçŸ¥è¯†ç‚¹&amp;é¢è¯•é¢˜æ€»ç»“"><!---->MySQLçŸ¥è¯†ç‚¹&amp;é¢è¯•é¢˜æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ä¸€åƒè¡Œ MySQL å­¦ä¹ ç¬”è®°"><!---->ä¸€åƒè¡Œ MySQL å­¦ä¹ ç¬”è®°<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#åŸºæœ¬æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŸºæœ¬æ“ä½œ"><!---->åŸºæœ¬æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ•°æ®åº“æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®åº“æ“ä½œ"><!---->æ•°æ®åº“æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è¡¨çš„æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¡¨çš„æ“ä½œ"><!---->è¡¨çš„æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ•°æ®æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®æ“ä½œ"><!---->æ•°æ®æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å­—ç¬¦é›†ç¼–ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å­—ç¬¦é›†ç¼–ç "><!---->å­—ç¬¦é›†ç¼–ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ•°æ®ç±»å‹-åˆ—ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®ç±»å‹(åˆ—ç±»å‹)"><!---->æ•°æ®ç±»å‹(åˆ—ç±»å‹)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#åˆ—å±æ€§-åˆ—çº¦æŸ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ—å±æ€§(åˆ—çº¦æŸ)"><!---->åˆ—å±æ€§(åˆ—çº¦æŸ)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å»ºè¡¨è§„èŒƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å»ºè¡¨è§„èŒƒ"><!---->å»ºè¡¨è§„èŒƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#select" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SELECT"><!---->SELECT<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#union" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UNION"><!---->UNION<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å­æŸ¥è¯¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å­æŸ¥è¯¢"><!---->å­æŸ¥è¯¢<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è¿æ¥æŸ¥è¯¢-join" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¿æ¥æŸ¥è¯¢(join)"><!---->è¿æ¥æŸ¥è¯¢(join)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#truncate" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TRUNCATE"><!---->TRUNCATE<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å¤‡ä»½ä¸è¿˜åŸ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤‡ä»½ä¸è¿˜åŸ"><!---->å¤‡ä»½ä¸è¿˜åŸ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è§†å›¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è§†å›¾"><!---->è§†å›¾<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#äº‹åŠ¡-transaction" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äº‹åŠ¡(transaction)"><!---->äº‹åŠ¡(transaction)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#é”è¡¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é”è¡¨"><!---->é”è¡¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è§¦å‘å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è§¦å‘å™¨"><!---->è§¦å‘å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#sqlç¼–ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SQLç¼–ç¨‹"><!---->SQLç¼–ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å­˜å‚¨è¿‡ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å­˜å‚¨è¿‡ç¨‹"><!---->å­˜å‚¨è¿‡ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#ç”¨æˆ·å’Œæƒé™ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç”¨æˆ·å’Œæƒé™ç®¡ç†"><!---->ç”¨æˆ·å’Œæƒé™ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è¡¨ç»´æŠ¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¡¨ç»´æŠ¤"><!---->è¡¨ç»´æŠ¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ‚é¡¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‚é¡¹"><!---->æ‚é¡¹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/ezdoc/RD/database/mysql/mysql-high-performance-optimization-specification-recommendations.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®"><!---->MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-star" style=""></span><span class="title">é‡è¦çŸ¥è¯†ç‚¹</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-redis" style=""></span><span class="title">Redis</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-framework" style=""></span><span class="title">å¸¸ç”¨æ¡†æ¶</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-xitongsheji" style=""></span><span class="title">ç³»ç»Ÿè®¾è®¡</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-fenbushi" style=""></span><span class="title">åˆ†å¸ƒå¼</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-et-performance" style=""></span><span class="title">é«˜æ€§èƒ½</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-highavailable" style=""></span><span class="title">é«˜å¯ç”¨</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tool" style=""></span><span class="title">å·¥å…·</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ä¸€åƒè¡Œ MySQL å­¦ä¹ ç¬”è®°</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.ezfri.com" target="_blank" rel="noopener noreferrer">EzFri</a></span><span property="author" content="EzFri"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´12æœˆ2æ—¥</span><meta property="datePublished" content="2022-12-02T13:59:58.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category6 clickable" role="navigation">æ•°æ®åº“</li><meta property="articleSection" content="æ•°æ®åº“"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag3 clickable" role="navigation">MySQL</li></ul><meta property="keywords" content="MySQL"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 33 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT33M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#åŸºæœ¬æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ•°æ®åº“æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">æ•°æ®åº“æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è¡¨çš„æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">è¡¨çš„æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ•°æ®æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">æ•°æ®æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å­—ç¬¦é›†ç¼–ç " class="router-link-active router-link-exact-active toc-link level3">å­—ç¬¦é›†ç¼–ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ•°æ®ç±»å‹-åˆ—ç±»å‹" class="router-link-active router-link-exact-active toc-link level3">æ•°æ®ç±»å‹(åˆ—ç±»å‹)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#åˆ—å±æ€§-åˆ—çº¦æŸ" class="router-link-active router-link-exact-active toc-link level3">åˆ—å±æ€§(åˆ—çº¦æŸ)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å»ºè¡¨è§„èŒƒ" class="router-link-active router-link-exact-active toc-link level3">å»ºè¡¨è§„èŒƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#select" class="router-link-active router-link-exact-active toc-link level3">SELECT</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#union" class="router-link-active router-link-exact-active toc-link level3">UNION</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å­æŸ¥è¯¢" class="router-link-active router-link-exact-active toc-link level3">å­æŸ¥è¯¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è¿æ¥æŸ¥è¯¢-join" class="router-link-active router-link-exact-active toc-link level3">è¿æ¥æŸ¥è¯¢(join)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#truncate" class="router-link-active router-link-exact-active toc-link level3">TRUNCATE</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å¤‡ä»½ä¸è¿˜åŸ" class="router-link-active router-link-exact-active toc-link level3">å¤‡ä»½ä¸è¿˜åŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è§†å›¾" class="router-link-active router-link-exact-active toc-link level3">è§†å›¾</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#äº‹åŠ¡-transaction" class="router-link-active router-link-exact-active toc-link level3">äº‹åŠ¡(transaction)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#é”è¡¨" class="router-link-active router-link-exact-active toc-link level3">é”è¡¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è§¦å‘å™¨" class="router-link-active router-link-exact-active toc-link level3">è§¦å‘å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#sqlç¼–ç¨‹" class="router-link-active router-link-exact-active toc-link level3">SQLç¼–ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#å­˜å‚¨è¿‡ç¨‹" class="router-link-active router-link-exact-active toc-link level3">å­˜å‚¨è¿‡ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#ç”¨æˆ·å’Œæƒé™ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">ç”¨æˆ·å’Œæƒé™ç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#è¡¨ç»´æŠ¤" class="router-link-active router-link-exact-active toc-link level3">è¡¨ç»´æŠ¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/ezdoc/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.html#æ‚é¡¹" class="router-link-active router-link-exact-active toc-link level3">æ‚é¡¹</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><blockquote><p>åŸæ–‡åœ°å€ï¼š<a href="https://shockerli.net/post/1000-line-mysql-note/" target="_blank" rel="noopener noreferrer">https://shockerli.net/post/1000-line-mysql-note/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä½œè€…ï¼šæ ¼ç‰©</p></blockquote><h3 id="åŸºæœ¬æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ“ä½œ" aria-hidden="true">#</a> åŸºæœ¬æ“ä½œ</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* WindowsæœåŠ¡ */
-- å¯åŠ¨MySQL
    net start mysql
-- åˆ›å»ºWindowsæœåŠ¡
    sc create mysql binPath= mysqld_bin_path(æ³¨æ„ï¼šç­‰å·ä¸å€¼ä¹‹é—´æœ‰ç©ºæ ¼)
/* è¿æ¥ä¸æ–­å¼€æœåŠ¡å™¨ */
mysql -u åœ°å€ -P ç«¯å£ -u ç”¨æˆ·å -p å¯†ç 
SHOW PROCESSLIST -- æ˜¾ç¤ºå“ªäº›çº¿ç¨‹æ­£åœ¨è¿è¡Œ
SHOW VARIABLES -- æ˜¾ç¤ºç³»ç»Ÿå˜é‡ä¿¡æ¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°æ®åº“æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“æ“ä½œ" aria-hidden="true">#</a> æ•°æ®åº“æ“ä½œ</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* æ•°æ®åº“æ“ä½œ */ ------------------
-- æŸ¥çœ‹å½“å‰æ•°æ®åº“
    SELECT DATABASE();
-- æ˜¾ç¤ºå½“å‰æ—¶é—´ã€ç”¨æˆ·åã€æ•°æ®åº“ç‰ˆæœ¬
    SELECT now(), user(), version();
-- åˆ›å»ºåº“
    CREATE DATABASE[ IF NOT EXISTS] æ•°æ®åº“å æ•°æ®åº“é€‰é¡¹
    æ•°æ®åº“é€‰é¡¹ï¼š
        CHARACTER SET charset_name
        COLLATE collation_name
-- æŸ¥çœ‹å·²æœ‰åº“
    SHOW DATABASES[ LIKE &#39;PATTERN&#39;]
-- æŸ¥çœ‹å½“å‰åº“ä¿¡æ¯
    SHOW CREATE DATABASE æ•°æ®åº“å
-- ä¿®æ”¹åº“çš„é€‰é¡¹ä¿¡æ¯
    ALTER DATABASE åº“å é€‰é¡¹ä¿¡æ¯
-- åˆ é™¤åº“
    DROP DATABASE[ IF EXISTS] æ•°æ®åº“å
        åŒæ—¶åˆ é™¤è¯¥æ•°æ®åº“ç›¸å…³çš„ç›®å½•åŠå…¶ç›®å½•å†…å®¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¡¨çš„æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#è¡¨çš„æ“ä½œ" aria-hidden="true">#</a> è¡¨çš„æ“ä½œ</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>-- åˆ›å»ºè¡¨
    CREATE [TEMPORARY] TABLE[ IF NOT EXISTS] [åº“å.]è¡¨å ( è¡¨çš„ç»“æ„å®šä¹‰ )[ è¡¨é€‰é¡¹]
        æ¯ä¸ªå­—æ®µå¿…é¡»æœ‰æ•°æ®ç±»å‹
        æœ€åä¸€ä¸ªå­—æ®µåä¸èƒ½æœ‰é€—å·
        TEMPORARY ä¸´æ—¶è¡¨ï¼Œä¼šè¯ç»“æŸæ—¶è¡¨è‡ªåŠ¨æ¶ˆå¤±
        å¯¹äºå­—æ®µçš„å®šä¹‰ï¼š
            å­—æ®µå æ•°æ®ç±»å‹ [NOT NULL | NULL] [DEFAULT default_value] [AUTO_INCREMENT] [UNIQUE [KEY] | [PRIMARY] KEY] [COMMENT &#39;string&#39;]
-- è¡¨é€‰é¡¹
    -- å­—ç¬¦é›†
        CHARSET = charset_name
        å¦‚æœè¡¨æ²¡æœ‰è®¾å®šï¼Œåˆ™ä½¿ç”¨æ•°æ®åº“å­—ç¬¦é›†
    -- å­˜å‚¨å¼•æ“
        ENGINE = engine_name
        è¡¨åœ¨ç®¡ç†æ•°æ®æ—¶é‡‡ç”¨çš„ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œç»“æ„ä¸åŒä¼šå¯¼è‡´å¤„ç†æ–¹å¼ã€æä¾›çš„ç‰¹æ€§æ“ä½œç­‰ä¸åŒ
        å¸¸è§çš„å¼•æ“ï¼šInnoDB MyISAM Memory/Heap BDB Merge Example CSV MaxDB Archive
        ä¸åŒçš„å¼•æ“åœ¨ä¿å­˜è¡¨çš„ç»“æ„å’Œæ•°æ®æ—¶é‡‡ç”¨ä¸åŒçš„æ–¹å¼
        MyISAMè¡¨æ–‡ä»¶å«ä¹‰ï¼š.frmè¡¨å®šä¹‰ï¼Œ.MYDè¡¨æ•°æ®ï¼Œ.MYIè¡¨ç´¢å¼•
        InnoDBè¡¨æ–‡ä»¶å«ä¹‰ï¼š.frmè¡¨å®šä¹‰ï¼Œè¡¨ç©ºé—´æ•°æ®å’Œæ—¥å¿—æ–‡ä»¶
        SHOW ENGINES -- æ˜¾ç¤ºå­˜å‚¨å¼•æ“çš„çŠ¶æ€ä¿¡æ¯
        SHOW ENGINE å¼•æ“å {LOGS|STATUS} -- æ˜¾ç¤ºå­˜å‚¨å¼•æ“çš„æ—¥å¿—æˆ–çŠ¶æ€ä¿¡æ¯
    -- è‡ªå¢èµ·å§‹æ•°
    	AUTO_INCREMENT = è¡Œæ•°
    -- æ•°æ®æ–‡ä»¶ç›®å½•
        DATA DIRECTORY = &#39;ç›®å½•&#39;
    -- ç´¢å¼•æ–‡ä»¶ç›®å½•
        INDEX DIRECTORY = &#39;ç›®å½•&#39;
    -- è¡¨æ³¨é‡Š
        COMMENT = &#39;string&#39;
    -- åˆ†åŒºé€‰é¡¹
        PARTITION BY ... (è¯¦ç»†è§æ‰‹å†Œ)
-- æŸ¥çœ‹æ‰€æœ‰è¡¨
    SHOW TABLES[ LIKE &#39;pattern&#39;]
    SHOW TABLES FROM  åº“å
-- æŸ¥çœ‹è¡¨ç»“æ„
    SHOW CREATE TABLE è¡¨å ï¼ˆä¿¡æ¯æ›´è¯¦ç»†ï¼‰
    DESC è¡¨å / DESCRIBE è¡¨å / EXPLAIN è¡¨å / SHOW COLUMNS FROM è¡¨å [LIKE &#39;PATTERN&#39;]
    SHOW TABLE STATUS [FROM db_name] [LIKE &#39;pattern&#39;]
-- ä¿®æ”¹è¡¨
    -- ä¿®æ”¹è¡¨æœ¬èº«çš„é€‰é¡¹
        ALTER TABLE è¡¨å è¡¨çš„é€‰é¡¹
        eg: ALTER TABLE è¡¨å ENGINE=MYISAM;
    -- å¯¹è¡¨è¿›è¡Œé‡å‘½å
        RENAME TABLE åŸè¡¨å TO æ–°è¡¨å
        RENAME TABLE åŸè¡¨å TO åº“å.è¡¨å ï¼ˆå¯å°†è¡¨ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ï¼‰
        -- RENAMEå¯ä»¥äº¤æ¢ä¸¤ä¸ªè¡¨å
    -- ä¿®æ”¹è¡¨çš„å­—æ®µæœºæ„ï¼ˆ13.1.2. ALTER TABLEè¯­æ³•ï¼‰
        ALTER TABLE è¡¨å æ“ä½œå
        -- æ“ä½œå
            ADD[ COLUMN] å­—æ®µå®šä¹‰       -- å¢åŠ å­—æ®µ
                AFTER å­—æ®µå          -- è¡¨ç¤ºå¢åŠ åœ¨è¯¥å­—æ®µååé¢
                FIRST               -- è¡¨ç¤ºå¢åŠ åœ¨ç¬¬ä¸€ä¸ª
            ADD PRIMARY KEY(å­—æ®µå)   -- åˆ›å»ºä¸»é”®
            ADD UNIQUE [ç´¢å¼•å] (å­—æ®µå)-- åˆ›å»ºå”¯ä¸€ç´¢å¼•
            ADD INDEX [ç´¢å¼•å] (å­—æ®µå) -- åˆ›å»ºæ™®é€šç´¢å¼•
            DROP[ COLUMN] å­—æ®µå      -- åˆ é™¤å­—æ®µ
            MODIFY[ COLUMN] å­—æ®µå å­—æ®µå±æ€§     -- æ”¯æŒå¯¹å­—æ®µå±æ€§è¿›è¡Œä¿®æ”¹ï¼Œä¸èƒ½ä¿®æ”¹å­—æ®µå(æ‰€æœ‰åŸæœ‰å±æ€§ä¹Ÿéœ€å†™ä¸Š)
            CHANGE[ COLUMN] åŸå­—æ®µå æ–°å­—æ®µå å­—æ®µå±æ€§      -- æ”¯æŒå¯¹å­—æ®µåä¿®æ”¹
            DROP PRIMARY KEY    -- åˆ é™¤ä¸»é”®(åˆ é™¤ä¸»é”®å‰éœ€åˆ é™¤å…¶AUTO_INCREMENTå±æ€§)
            DROP INDEX ç´¢å¼•å -- åˆ é™¤ç´¢å¼•
            DROP FOREIGN KEY å¤–é”®    -- åˆ é™¤å¤–é”®
-- åˆ é™¤è¡¨
    DROP TABLE[ IF EXISTS] è¡¨å ...
-- æ¸…ç©ºè¡¨æ•°æ®
    TRUNCATE [TABLE] è¡¨å
-- å¤åˆ¶è¡¨ç»“æ„
    CREATE TABLE è¡¨å LIKE è¦å¤åˆ¶çš„è¡¨å
-- å¤åˆ¶è¡¨ç»“æ„å’Œæ•°æ®
    CREATE TABLE è¡¨å [AS] SELECT * FROM è¦å¤åˆ¶çš„è¡¨å
-- æ£€æŸ¥è¡¨æ˜¯å¦æœ‰é”™è¯¯
    CHECK TABLE tbl_name [, tbl_name] ... [option] ...
-- ä¼˜åŒ–è¡¨
    OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...
-- ä¿®å¤è¡¨
    REPAIR [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ... [QUICK] [EXTENDED] [USE_FRM]
-- åˆ†æè¡¨
    ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°æ®æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ“ä½œ" aria-hidden="true">#</a> æ•°æ®æ“ä½œ</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* æ•°æ®æ“ä½œ */ ------------------
-- å¢
    INSERT [INTO] è¡¨å [(å­—æ®µåˆ—è¡¨)] VALUES (å€¼åˆ—è¡¨)[, (å€¼åˆ—è¡¨), ...]
        -- å¦‚æœè¦æ’å…¥çš„å€¼åˆ—è¡¨åŒ…å«æ‰€æœ‰å­—æ®µå¹¶ä¸”é¡ºåºä¸€è‡´ï¼Œåˆ™å¯ä»¥çœç•¥å­—æ®µåˆ—è¡¨ã€‚
        -- å¯åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®è®°å½•ï¼
        REPLACE ä¸ INSERT å®Œå…¨ä¸€æ ·ï¼Œå¯äº’æ¢ã€‚
    INSERT [INTO] è¡¨å SET å­—æ®µå=å€¼[, å­—æ®µå=å€¼, ...]
-- æŸ¥
    SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å[ å…¶ä»–å­å¥]
        -- å¯æ¥è‡ªå¤šä¸ªè¡¨çš„å¤šä¸ªå­—æ®µ
        -- å…¶ä»–å­å¥å¯ä»¥ä¸ä½¿ç”¨
        -- å­—æ®µåˆ—è¡¨å¯ä»¥ç”¨*ä»£æ›¿ï¼Œè¡¨ç¤ºæ‰€æœ‰å­—æ®µ
-- åˆ 
    DELETE FROM è¡¨å[ åˆ é™¤æ¡ä»¶å­å¥]
        æ²¡æœ‰æ¡ä»¶å­å¥ï¼Œåˆ™ä¼šåˆ é™¤å…¨éƒ¨
-- æ”¹
    UPDATE è¡¨å SET å­—æ®µå=æ–°å€¼[, å­—æ®µå=æ–°å€¼] [æ›´æ–°æ¡ä»¶]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å­—ç¬¦é›†ç¼–ç " tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦é›†ç¼–ç " aria-hidden="true">#</a> å­—ç¬¦é›†ç¼–ç </h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* å­—ç¬¦é›†ç¼–ç  */ ------------------
-- MySQLã€æ•°æ®åº“ã€è¡¨ã€å­—æ®µå‡å¯è®¾ç½®ç¼–ç 
-- æ•°æ®ç¼–ç ä¸å®¢æˆ·ç«¯ç¼–ç ä¸éœ€ä¸€è‡´
SHOW VARIABLES LIKE &#39;character_set_%&#39;   -- æŸ¥çœ‹æ‰€æœ‰å­—ç¬¦é›†ç¼–ç é¡¹
    character_set_client        å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ•°æ®æ—¶ä½¿ç”¨çš„ç¼–ç 
    character_set_results       æœåŠ¡å™¨ç«¯å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯æ‰€ä½¿ç”¨çš„ç¼–ç 
    character_set_connection    è¿æ¥å±‚ç¼–ç 
SET å˜é‡å = å˜é‡å€¼
    SET character_set_client = gbk;
    SET character_set_results = gbk;
    SET character_set_connection = gbk;
SET NAMES GBK;  -- ç›¸å½“äºå®Œæˆä»¥ä¸Šä¸‰ä¸ªè®¾ç½®
-- æ ¡å¯¹é›†
    æ ¡å¯¹é›†ç”¨ä»¥æ’åº
    SHOW CHARACTER SET [LIKE &#39;pattern&#39;]/SHOW CHARSET [LIKE &#39;pattern&#39;]   æŸ¥çœ‹æ‰€æœ‰å­—ç¬¦é›†
    SHOW COLLATION [LIKE &#39;pattern&#39;]     æŸ¥çœ‹æ‰€æœ‰æ ¡å¯¹é›†
    CHARSET å­—ç¬¦é›†ç¼–ç      è®¾ç½®å­—ç¬¦é›†ç¼–ç 
    COLLATE æ ¡å¯¹é›†ç¼–ç      è®¾ç½®æ ¡å¯¹é›†ç¼–ç 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•°æ®ç±»å‹-åˆ—ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç±»å‹-åˆ—ç±»å‹" aria-hidden="true">#</a> æ•°æ®ç±»å‹(åˆ—ç±»å‹)</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* æ•°æ®ç±»å‹ï¼ˆåˆ—ç±»å‹ï¼‰ */ ------------------
1. æ•°å€¼ç±»å‹
-- a. æ•´å‹ ----------
    ç±»å‹         å­—èŠ‚     èŒƒå›´ï¼ˆæœ‰ç¬¦å·ä½ï¼‰
    tinyint     1å­—èŠ‚    -128 ~ 127      æ— ç¬¦å·ä½ï¼š0 ~ 255
    smallint    2å­—èŠ‚    -32768 ~ 32767
    mediumint   3å­—èŠ‚    -8388608 ~ 8388607
    int         4å­—èŠ‚
    bigint      8å­—èŠ‚
    int(M)  Mè¡¨ç¤ºæ€»ä½æ•°
    - é»˜è®¤å­˜åœ¨ç¬¦å·ä½ï¼Œunsigned å±æ€§ä¿®æ”¹
    - æ˜¾ç¤ºå®½åº¦ï¼Œå¦‚æœæŸä¸ªæ•°ä¸å¤Ÿå®šä¹‰å­—æ®µæ—¶è®¾ç½®çš„ä½æ•°ï¼Œåˆ™å‰é¢ä»¥0è¡¥å¡«ï¼Œzerofill å±æ€§ä¿®æ”¹
        ä¾‹ï¼šint(5)   æ’å…¥ä¸€ä¸ªæ•°&#39;123&#39;ï¼Œè¡¥å¡«åä¸º&#39;00123&#39;
    - åœ¨æ»¡è¶³è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œè¶Šå°è¶Šå¥½ã€‚
    - 1è¡¨ç¤ºboolå€¼çœŸï¼Œ0è¡¨ç¤ºboolå€¼å‡ã€‚MySQLæ²¡æœ‰å¸ƒå°”ç±»å‹ï¼Œé€šè¿‡æ•´å‹0å’Œ1è¡¨ç¤ºã€‚å¸¸ç”¨tinyint(1)è¡¨ç¤ºå¸ƒå°”å‹ã€‚
-- b. æµ®ç‚¹å‹ ----------
    ç±»å‹             å­—èŠ‚     èŒƒå›´
    float(å•ç²¾åº¦)     4å­—èŠ‚
    double(åŒç²¾åº¦)    8å­—èŠ‚
    æµ®ç‚¹å‹æ—¢æ”¯æŒç¬¦å·ä½ unsigned å±æ€§ï¼Œä¹Ÿæ”¯æŒæ˜¾ç¤ºå®½åº¦ zerofill å±æ€§ã€‚
        ä¸åŒäºæ•´å‹ï¼Œå‰åå‡ä¼šè¡¥å¡«0.
    å®šä¹‰æµ®ç‚¹å‹æ—¶ï¼Œéœ€æŒ‡å®šæ€»ä½æ•°å’Œå°æ•°ä½æ•°ã€‚
        float(M, D)     double(M, D)
        Mè¡¨ç¤ºæ€»ä½æ•°ï¼ŒDè¡¨ç¤ºå°æ•°ä½æ•°ã€‚
        Må’ŒDçš„å¤§å°ä¼šå†³å®šæµ®ç‚¹æ•°çš„èŒƒå›´ã€‚ä¸åŒäºæ•´å‹çš„å›ºå®šèŒƒå›´ã€‚
        Mæ—¢è¡¨ç¤ºæ€»ä½æ•°ï¼ˆä¸åŒ…æ‹¬å°æ•°ç‚¹å’Œæ­£è´Ÿå·ï¼‰ï¼Œä¹Ÿè¡¨ç¤ºæ˜¾ç¤ºå®½åº¦ï¼ˆæ‰€æœ‰æ˜¾ç¤ºç¬¦å·å‡åŒ…æ‹¬ï¼‰ã€‚
        æ”¯æŒç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºã€‚
        æµ®ç‚¹æ•°è¡¨ç¤ºè¿‘ä¼¼å€¼ã€‚
-- c. å®šç‚¹æ•° ----------
    decimal -- å¯å˜é•¿åº¦
    decimal(M, D)   Mä¹Ÿè¡¨ç¤ºæ€»ä½æ•°ï¼ŒDè¡¨ç¤ºå°æ•°ä½æ•°ã€‚
    ä¿å­˜ä¸€ä¸ªç²¾ç¡®çš„æ•°å€¼ï¼Œä¸ä¼šå‘ç”Ÿæ•°æ®çš„æ”¹å˜ï¼Œä¸åŒäºæµ®ç‚¹æ•°çš„å››èˆäº”å…¥ã€‚
    å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ¥ä¿å­˜ï¼Œæ¯9ä½æ•°å­—ä¿å­˜ä¸º4ä¸ªå­—èŠ‚ã€‚
2. å­—ç¬¦ä¸²ç±»å‹
-- a. char, varchar ----------
    char    å®šé•¿å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦å¿«ï¼Œä½†æµªè´¹ç©ºé—´
    varchar å˜é•¿å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦æ…¢ï¼Œä½†èŠ‚çœç©ºé—´
    Mè¡¨ç¤ºèƒ½å­˜å‚¨çš„æœ€å¤§é•¿åº¦ï¼Œæ­¤é•¿åº¦æ˜¯å­—ç¬¦æ•°ï¼Œéå­—èŠ‚æ•°ã€‚
    ä¸åŒçš„ç¼–ç ï¼Œæ‰€å ç”¨çš„ç©ºé—´ä¸åŒã€‚
    char,æœ€å¤š255ä¸ªå­—ç¬¦ï¼Œä¸ç¼–ç æ— å…³ã€‚
    varchar,æœ€å¤š65535å­—ç¬¦ï¼Œä¸ç¼–ç æœ‰å…³ã€‚
    ä¸€æ¡æœ‰æ•ˆè®°å½•æœ€å¤§ä¸èƒ½è¶…è¿‡65535ä¸ªå­—èŠ‚ã€‚
        utf8 æœ€å¤§ä¸º21844ä¸ªå­—ç¬¦ï¼Œgbk æœ€å¤§ä¸º32766ä¸ªå­—ç¬¦ï¼Œlatin1 æœ€å¤§ä¸º65532ä¸ªå­—ç¬¦
    varchar æ˜¯å˜é•¿çš„ï¼Œéœ€è¦åˆ©ç”¨å­˜å‚¨ç©ºé—´ä¿å­˜ varchar çš„é•¿åº¦ï¼Œå¦‚æœæ•°æ®å°äº255ä¸ªå­—èŠ‚ï¼Œåˆ™é‡‡ç”¨ä¸€ä¸ªå­—èŠ‚æ¥ä¿å­˜é•¿åº¦ï¼Œåä¹‹éœ€è¦ä¸¤ä¸ªå­—èŠ‚æ¥ä¿å­˜ã€‚
    varchar çš„æœ€å¤§æœ‰æ•ˆé•¿åº¦ç”±æœ€å¤§è¡Œå¤§å°å’Œä½¿ç”¨çš„å­—ç¬¦é›†ç¡®å®šã€‚
    æœ€å¤§æœ‰æ•ˆé•¿åº¦æ˜¯65532å­—èŠ‚ï¼Œå› ä¸ºåœ¨varcharå­˜å­—ç¬¦ä¸²æ—¶ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯ç©ºçš„ï¼Œä¸å­˜åœ¨ä»»ä½•æ•°æ®ï¼Œç„¶åè¿˜éœ€ä¸¤ä¸ªå­—èŠ‚æ¥å­˜æ”¾å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ‰€ä»¥æœ‰æ•ˆé•¿åº¦æ˜¯65535-1-2=65532å­—èŠ‚ã€‚
    ä¾‹ï¼šè‹¥ä¸€ä¸ªè¡¨å®šä¹‰ä¸º CREATE TABLE tb(c1 int, c2 char(30), c3 varchar(N)) charset=utf8; é—®Nçš„æœ€å¤§å€¼æ˜¯å¤šå°‘ï¼Ÿ ç­”ï¼š(65535-1-2-4-30*3)/3
-- b. blob, text ----------
    blob äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆå­—èŠ‚å­—ç¬¦ä¸²ï¼‰
        tinyblob, blob, mediumblob, longblob
    text éäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦å­—ç¬¦ä¸²ï¼‰
        tinytext, text, mediumtext, longtext
    text åœ¨å®šä¹‰æ—¶ï¼Œä¸éœ€è¦å®šä¹‰é•¿åº¦ï¼Œä¹Ÿä¸ä¼šè®¡ç®—æ€»é•¿åº¦ã€‚
    text ç±»å‹åœ¨å®šä¹‰æ—¶ï¼Œä¸å¯ç»™defaultå€¼
-- c. binary, varbinary ----------
    ç±»ä¼¼äºcharå’Œvarcharï¼Œç”¨äºä¿å­˜äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¿å­˜å­—èŠ‚å­—ç¬¦ä¸²è€Œéå­—ç¬¦å­—ç¬¦ä¸²ã€‚
    char, varchar, text å¯¹åº” binary, varbinary, blob.
3. æ—¥æœŸæ—¶é—´ç±»å‹
    ä¸€èˆ¬ç”¨æ•´å‹ä¿å­˜æ—¶é—´æˆ³ï¼Œå› ä¸ºPHPå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†æ—¶é—´æˆ³è¿›è¡Œæ ¼å¼åŒ–ã€‚
    datetime    8å­—èŠ‚    æ—¥æœŸåŠæ—¶é—´     1000-01-01 00:00:00 åˆ° 9999-12-31 23:59:59
    date        3å­—èŠ‚    æ—¥æœŸ         1000-01-01 åˆ° 9999-12-31
    timestamp   4å­—èŠ‚    æ—¶é—´æˆ³        19700101000000 åˆ° 2038-01-19 03:14:07
    time        3å­—èŠ‚    æ—¶é—´         -838:59:59 åˆ° 838:59:59
    year        1å­—èŠ‚    å¹´ä»½         1901 - 2155
datetime    YYYY-MM-DD hh:mm:ss
timestamp   YY-MM-DD hh:mm:ss
            YYYYMMDDhhmmss
            YYMMDDhhmmss
            YYYYMMDDhhmmss
            YYMMDDhhmmss
date        YYYY-MM-DD
            YY-MM-DD
            YYYYMMDD
            YYMMDD
            YYYYMMDD
            YYMMDD
time        hh:mm:ss
            hhmmss
            hhmmss
year        YYYY
            YY
            YYYY
            YY
4. æšä¸¾å’Œé›†åˆ
-- æšä¸¾(enum) ----------
enum(val1, val2, val3...)
    åœ¨å·²çŸ¥çš„å€¼ä¸­è¿›è¡Œå•é€‰ã€‚æœ€å¤§æ•°é‡ä¸º65535.
    æšä¸¾å€¼åœ¨ä¿å­˜æ—¶ï¼Œä»¥2ä¸ªå­—èŠ‚çš„æ•´å‹(smallint)ä¿å­˜ã€‚æ¯ä¸ªæšä¸¾å€¼ï¼ŒæŒ‰ä¿å­˜çš„ä½ç½®é¡ºåºï¼Œä»1å¼€å§‹é€ä¸€é€’å¢ã€‚
    è¡¨ç°ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå­˜å‚¨å´æ˜¯æ•´å‹ã€‚
    NULLå€¼çš„ç´¢å¼•æ˜¯NULLã€‚
    ç©ºå­—ç¬¦ä¸²é”™è¯¯å€¼çš„ç´¢å¼•å€¼æ˜¯0ã€‚
-- é›†åˆï¼ˆsetï¼‰ ----------
set(val1, val2, val3...)
    create table tab ( gender set(&#39;ç”·&#39;, &#39;å¥³&#39;, &#39;æ— &#39;) );
    insert into tab values (&#39;ç”·, å¥³&#39;);
    æœ€å¤šå¯ä»¥æœ‰64ä¸ªä¸åŒçš„æˆå‘˜ã€‚ä»¥bigintå­˜å‚¨ï¼Œå…±8ä¸ªå­—èŠ‚ã€‚é‡‡å–ä½è¿ç®—çš„å½¢å¼ã€‚
    å½“åˆ›å»ºè¡¨æ—¶ï¼ŒSETæˆå‘˜å€¼çš„å°¾éƒ¨ç©ºæ ¼å°†è‡ªåŠ¨è¢«åˆ é™¤ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ—å±æ€§-åˆ—çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#åˆ—å±æ€§-åˆ—çº¦æŸ" aria-hidden="true">#</a> åˆ—å±æ€§(åˆ—çº¦æŸ)</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* åˆ—å±æ€§ï¼ˆåˆ—çº¦æŸï¼‰ */ ------------------
1. PRIMARY ä¸»é”®
    - èƒ½å”¯ä¸€æ ‡è¯†è®°å½•çš„å­—æ®µï¼Œå¯ä»¥ä½œä¸ºä¸»é”®ã€‚
    - ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚
    - ä¸»é”®å…·æœ‰å”¯ä¸€æ€§ã€‚
    - å£°æ˜å­—æ®µæ—¶ï¼Œç”¨ primary key æ ‡è¯†ã€‚
        ä¹Ÿå¯ä»¥åœ¨å­—æ®µåˆ—è¡¨ä¹‹åå£°æ˜
            ä¾‹ï¼šcreate table tab ( id int, stu varchar(10), primary key (id));
    - ä¸»é”®å­—æ®µçš„å€¼ä¸èƒ½ä¸ºnullã€‚
    - ä¸»é”®å¯ä»¥ç”±å¤šä¸ªå­—æ®µå…±åŒç»„æˆã€‚æ­¤æ—¶éœ€è¦åœ¨å­—æ®µåˆ—è¡¨åå£°æ˜çš„æ–¹æ³•ã€‚
        ä¾‹ï¼šcreate table tab ( id int, stu varchar(10), age int, primary key (stu, age));
2. UNIQUE å”¯ä¸€ç´¢å¼•ï¼ˆå”¯ä¸€çº¦æŸï¼‰
    ä½¿å¾—æŸå­—æ®µçš„å€¼ä¹Ÿä¸èƒ½é‡å¤ã€‚
3. NULL çº¦æŸ
    nullä¸æ˜¯æ•°æ®ç±»å‹ï¼Œæ˜¯åˆ—çš„ä¸€ä¸ªå±æ€§ã€‚
    è¡¨ç¤ºå½“å‰åˆ—æ˜¯å¦å¯ä»¥ä¸ºnullï¼Œè¡¨ç¤ºä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚
    null, å…è®¸ä¸ºç©ºã€‚é»˜è®¤ã€‚
    not null, ä¸å…è®¸ä¸ºç©ºã€‚
    insert into tab values (null, &#39;val&#39;);
        -- æ­¤æ—¶è¡¨ç¤ºå°†ç¬¬ä¸€ä¸ªå­—æ®µçš„å€¼è®¾ä¸ºnull, å–å†³äºè¯¥å­—æ®µæ˜¯å¦å…è®¸ä¸ºnull
4. DEFAULT é»˜è®¤å€¼å±æ€§
    å½“å‰å­—æ®µçš„é»˜è®¤å€¼ã€‚
    insert into tab values (default, &#39;val&#39;);    -- æ­¤æ—¶è¡¨ç¤ºå¼ºåˆ¶ä½¿ç”¨é»˜è®¤å€¼ã€‚
    create table tab ( add_time timestamp default current_timestamp );
        -- è¡¨ç¤ºå°†å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³è®¾ä¸ºé»˜è®¤å€¼ã€‚
        current_date, current_time
5. AUTO_INCREMENT è‡ªåŠ¨å¢é•¿çº¦æŸ
    è‡ªåŠ¨å¢é•¿å¿…é¡»ä¸ºç´¢å¼•ï¼ˆä¸»é”®æˆ–uniqueï¼‰
    åªèƒ½å­˜åœ¨ä¸€ä¸ªå­—æ®µä¸ºè‡ªåŠ¨å¢é•¿ã€‚
    é»˜è®¤ä¸º1å¼€å§‹è‡ªåŠ¨å¢é•¿ã€‚å¯ä»¥é€šè¿‡è¡¨å±æ€§ auto_increment = xè¿›è¡Œè®¾ç½®ï¼Œæˆ– alter table tbl auto_increment = x;
6. COMMENT æ³¨é‡Š
    ä¾‹ï¼šcreate table tab ( id int ) comment &#39;æ³¨é‡Šå†…å®¹&#39;;
7. FOREIGN KEY å¤–é”®çº¦æŸ
    ç”¨äºé™åˆ¶ä¸»è¡¨ä¸ä»è¡¨æ•°æ®å®Œæ•´æ€§ã€‚
    alter table t1 add constraint `t1_t2_fk` foreign key (t1_id) references t2(id);
        -- å°†è¡¨t1çš„t1_idå¤–é”®å…³è”åˆ°è¡¨t2çš„idå­—æ®µã€‚
        -- æ¯ä¸ªå¤–é”®éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œå¯ä»¥é€šè¿‡ constraint æŒ‡å®š
    å­˜åœ¨å¤–é”®çš„è¡¨ï¼Œç§°ä¹‹ä¸ºä»è¡¨ï¼ˆå­è¡¨ï¼‰ï¼Œå¤–é”®æŒ‡å‘çš„è¡¨ï¼Œç§°ä¹‹ä¸ºä¸»è¡¨ï¼ˆçˆ¶è¡¨ï¼‰ã€‚
    ä½œç”¨ï¼šä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼Œå®Œæ•´æ€§ï¼Œä¸»è¦ç›®çš„æ˜¯æ§åˆ¶å­˜å‚¨åœ¨å¤–é”®è¡¨ï¼ˆä»è¡¨ï¼‰ä¸­çš„æ•°æ®ã€‚
    MySQLä¸­ï¼Œå¯ä»¥å¯¹InnoDBå¼•æ“ä½¿ç”¨å¤–é”®çº¦æŸï¼š
    è¯­æ³•ï¼š
    foreign key (å¤–é”®å­—æ®µï¼‰ references ä¸»è¡¨å (å…³è”å­—æ®µ) [ä¸»è¡¨è®°å½•åˆ é™¤æ—¶çš„åŠ¨ä½œ] [ä¸»è¡¨è®°å½•æ›´æ–°æ—¶çš„åŠ¨ä½œ]
    æ­¤æ—¶éœ€è¦æ£€æµ‹ä¸€ä¸ªä»è¡¨çš„å¤–é”®éœ€è¦çº¦æŸä¸ºä¸»è¡¨çš„å·²å­˜åœ¨çš„å€¼ã€‚å¤–é”®åœ¨æ²¡æœ‰å…³è”çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è®¾ç½®ä¸ºnull.å‰ææ˜¯è¯¥å¤–é”®åˆ—ï¼Œæ²¡æœ‰not nullã€‚
    å¯ä»¥ä¸æŒ‡å®šä¸»è¡¨è®°å½•æ›´æ”¹æˆ–æ›´æ–°æ—¶çš„åŠ¨ä½œï¼Œé‚£ä¹ˆæ­¤æ—¶ä¸»è¡¨çš„æ“ä½œè¢«æ‹’ç»ã€‚
    å¦‚æœæŒ‡å®šäº† on update æˆ– on deleteï¼šåœ¨åˆ é™¤æˆ–æ›´æ–°æ—¶ï¼Œæœ‰å¦‚ä¸‹å‡ ä¸ªæ“ä½œå¯ä»¥é€‰æ‹©ï¼š
    1. cascadeï¼Œçº§è”æ“ä½œã€‚ä¸»è¡¨æ•°æ®è¢«æ›´æ–°ï¼ˆä¸»é”®å€¼æ›´æ–°ï¼‰ï¼Œä»è¡¨ä¹Ÿè¢«æ›´æ–°ï¼ˆå¤–é”®å€¼æ›´æ–°ï¼‰ã€‚ä¸»è¡¨è®°å½•è¢«åˆ é™¤ï¼Œä»è¡¨ç›¸å…³è®°å½•ä¹Ÿè¢«åˆ é™¤ã€‚
    2. set nullï¼Œè®¾ç½®ä¸ºnullã€‚ä¸»è¡¨æ•°æ®è¢«æ›´æ–°ï¼ˆä¸»é”®å€¼æ›´æ–°ï¼‰ï¼Œä»è¡¨çš„å¤–é”®è¢«è®¾ç½®ä¸ºnullã€‚ä¸»è¡¨è®°å½•è¢«åˆ é™¤ï¼Œä»è¡¨ç›¸å…³è®°å½•å¤–é”®è¢«è®¾ç½®æˆnullã€‚ä½†æ³¨æ„ï¼Œè¦æ±‚è¯¥å¤–é”®åˆ—ï¼Œæ²¡æœ‰not nullå±æ€§çº¦æŸã€‚
    3. restrictï¼Œæ‹’ç»çˆ¶è¡¨åˆ é™¤å’Œæ›´æ–°ã€‚
    æ³¨æ„ï¼Œå¤–é”®åªè¢«InnoDBå­˜å‚¨å¼•æ“æ‰€æ”¯æŒã€‚å…¶ä»–å¼•æ“æ˜¯ä¸æ”¯æŒçš„ã€‚

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å»ºè¡¨è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#å»ºè¡¨è§„èŒƒ" aria-hidden="true">#</a> å»ºè¡¨è§„èŒƒ</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* å»ºè¡¨è§„èŒƒ */ ------------------
    -- Normal Format, NF
        - æ¯ä¸ªè¡¨ä¿å­˜ä¸€ä¸ªå®ä½“ä¿¡æ¯
        - æ¯ä¸ªå…·æœ‰ä¸€ä¸ªIDå­—æ®µä½œä¸ºä¸»é”®
        - IDä¸»é”® + åŸå­è¡¨
    -- 1NF, ç¬¬ä¸€èŒƒå¼
        å­—æ®µä¸èƒ½å†åˆ†ï¼Œå°±æ»¡è¶³ç¬¬ä¸€èŒƒå¼ã€‚
    -- 2NF, ç¬¬äºŒèŒƒå¼
        æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„å‰æä¸‹ï¼Œä¸èƒ½å‡ºç°éƒ¨åˆ†ä¾èµ–ã€‚
        æ¶ˆé™¤å¤åˆä¸»é”®å°±å¯ä»¥é¿å…éƒ¨åˆ†ä¾èµ–ã€‚å¢åŠ å•åˆ—å…³é”®å­—ã€‚
    -- 3NF, ç¬¬ä¸‰èŒƒå¼
        æ»¡è¶³ç¬¬äºŒèŒƒå¼çš„å‰æä¸‹ï¼Œä¸èƒ½å‡ºç°ä¼ é€’ä¾èµ–ã€‚
        æŸä¸ªå­—æ®µä¾èµ–äºä¸»é”®ï¼Œè€Œæœ‰å…¶ä»–å­—æ®µä¾èµ–äºè¯¥å­—æ®µã€‚è¿™å°±æ˜¯ä¼ é€’ä¾èµ–ã€‚
        å°†ä¸€ä¸ªå®ä½“ä¿¡æ¯çš„æ•°æ®æ”¾åœ¨ä¸€ä¸ªè¡¨å†…å®ç°ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="select" tabindex="-1"><a class="header-anchor" href="#select" aria-hidden="true">#</a> SELECT</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* SELECT */ ------------------
SELECT [ALL|DISTINCT] select_expr FROM -&gt; WHERE -&gt; GROUP BY [åˆè®¡å‡½æ•°] -&gt; HAVING -&gt; ORDER BY -&gt; LIMIT
a. select_expr
    -- å¯ä»¥ç”¨ * è¡¨ç¤ºæ‰€æœ‰å­—æ®µã€‚
        select * from tb;
    -- å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼ˆè®¡ç®—å…¬å¼ã€å‡½æ•°è°ƒç”¨ã€å­—æ®µä¹Ÿæ˜¯ä¸ªè¡¨è¾¾å¼ï¼‰
        select stu, 29+25, now() from tb;
    -- å¯ä»¥ä¸ºæ¯ä¸ªåˆ—ä½¿ç”¨åˆ«åã€‚é€‚ç”¨äºç®€åŒ–åˆ—æ ‡è¯†ï¼Œé¿å…å¤šä¸ªåˆ—æ ‡è¯†ç¬¦é‡å¤ã€‚
        - ä½¿ç”¨ as å…³é”®å­—ï¼Œä¹Ÿå¯çœç•¥ as.
        select stu+10 as add10 from tb;
b. FROM å­å¥
    ç”¨äºæ ‡è¯†æŸ¥è¯¢æ¥æºã€‚
    -- å¯ä»¥ä¸ºè¡¨èµ·åˆ«åã€‚ä½¿ç”¨aså…³é”®å­—ã€‚
        SELECT * FROM tb1 AS tt, tb2 AS bb;
    -- fromå­å¥åï¼Œå¯ä»¥åŒæ—¶å‡ºç°å¤šä¸ªè¡¨ã€‚
        -- å¤šä¸ªè¡¨ä¼šæ¨ªå‘å åŠ åˆ°ä¸€èµ·ï¼Œè€Œæ•°æ®ä¼šå½¢æˆä¸€ä¸ªç¬›å¡å°”ç§¯ã€‚
        SELECT * FROM tb1, tb2;
    -- å‘ä¼˜åŒ–ç¬¦æç¤ºå¦‚ä½•é€‰æ‹©ç´¢å¼•
        USE INDEXã€IGNORE INDEXã€FORCE INDEX
        SELECT * FROM table1 USE INDEX (key1,key2) WHERE key1=1 AND key2=2 AND key3=3;
        SELECT * FROM table1 IGNORE INDEX (key3) WHERE key1=1 AND key2=2 AND key3=3;
c. WHERE å­å¥
    -- ä»fromè·å¾—çš„æ•°æ®æºä¸­è¿›è¡Œç­›é€‰ã€‚
    -- æ•´å‹1è¡¨ç¤ºçœŸï¼Œ0è¡¨ç¤ºå‡ã€‚
    -- è¡¨è¾¾å¼ç”±è¿ç®—ç¬¦å’Œè¿ç®—æ•°ç»„æˆã€‚
        -- è¿ç®—æ•°ï¼šå˜é‡ï¼ˆå­—æ®µï¼‰ã€å€¼ã€å‡½æ•°è¿”å›å€¼
        -- è¿ç®—ç¬¦ï¼š
            =, &lt;=&gt;, &lt;&gt;, !=, &lt;=, &lt;, &gt;=, &gt;, !, &amp;&amp;, ||,
            in (not) null, (not) like, (not) in, (not) between and, is (not), and, or, not, xor
            is/is not åŠ ä¸Šture/false/unknownï¼Œæ£€éªŒæŸä¸ªå€¼çš„çœŸå‡
            &lt;=&gt;ä¸&lt;&gt;åŠŸèƒ½ç›¸åŒï¼Œ&lt;=&gt;å¯ç”¨äºnullæ¯”è¾ƒ
d. GROUP BY å­å¥, åˆ†ç»„å­å¥
    GROUP BY å­—æ®µ/åˆ«å [æ’åºæ–¹å¼]
    åˆ†ç»„åä¼šè¿›è¡Œæ’åºã€‚å‡åºï¼šASCï¼Œé™åºï¼šDESC
    ä»¥ä¸‹[åˆè®¡å‡½æ•°]éœ€é…åˆ GROUP BY ä½¿ç”¨ï¼š
    count è¿”å›ä¸åŒçš„éNULLå€¼æ•°ç›®  count(*)ã€count(å­—æ®µ)
    sum æ±‚å’Œ
    max æ±‚æœ€å¤§å€¼
    min æ±‚æœ€å°å€¼
    avg æ±‚å¹³å‡å€¼
    group_concat è¿”å›å¸¦æœ‰æ¥è‡ªä¸€ä¸ªç»„çš„è¿æ¥çš„éNULLå€¼çš„å­—ç¬¦ä¸²ç»“æœã€‚ç»„å†…å­—ç¬¦ä¸²è¿æ¥ã€‚
e. HAVING å­å¥ï¼Œæ¡ä»¶å­å¥
    ä¸ where åŠŸèƒ½ã€ç”¨æ³•ç›¸åŒï¼Œæ‰§è¡Œæ—¶æœºä¸åŒã€‚
    where åœ¨å¼€å§‹æ—¶æ‰§è¡Œæ£€æµ‹æ•°æ®ï¼Œå¯¹åŸæ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚
    having å¯¹ç­›é€‰å‡ºçš„ç»“æœå†æ¬¡è¿›è¡Œè¿‡æ»¤ã€‚
    having å­—æ®µå¿…é¡»æ˜¯æŸ¥è¯¢å‡ºæ¥çš„ï¼Œwhere å­—æ®µå¿…é¡»æ˜¯æ•°æ®è¡¨å­˜åœ¨çš„ã€‚
    where ä¸å¯ä»¥ä½¿ç”¨å­—æ®µçš„åˆ«åï¼Œhaving å¯ä»¥ã€‚å› ä¸ºæ‰§è¡ŒWHEREä»£ç æ—¶ï¼Œå¯èƒ½å°šæœªç¡®å®šåˆ—å€¼ã€‚
    where ä¸å¯ä»¥ä½¿ç”¨åˆè®¡å‡½æ•°ã€‚ä¸€èˆ¬éœ€ç”¨åˆè®¡å‡½æ•°æ‰ä¼šç”¨ having
    SQLæ ‡å‡†è¦æ±‚HAVINGå¿…é¡»å¼•ç”¨GROUP BYå­å¥ä¸­çš„åˆ—æˆ–ç”¨äºåˆè®¡å‡½æ•°ä¸­çš„åˆ—ã€‚
f. ORDER BY å­å¥ï¼Œæ’åºå­å¥
    order by æ’åºå­—æ®µ/åˆ«å æ’åºæ–¹å¼ [,æ’åºå­—æ®µ/åˆ«å æ’åºæ–¹å¼]...
    å‡åºï¼šASCï¼Œé™åºï¼šDESC
    æ”¯æŒå¤šä¸ªå­—æ®µçš„æ’åºã€‚
g. LIMIT å­å¥ï¼Œé™åˆ¶ç»“æœæ•°é‡å­å¥
    ä»…å¯¹å¤„ç†å¥½çš„ç»“æœè¿›è¡Œæ•°é‡é™åˆ¶ã€‚å°†å¤„ç†å¥½çš„ç»“æœçš„çœ‹ä½œæ˜¯ä¸€ä¸ªé›†åˆï¼ŒæŒ‰ç…§è®°å½•å‡ºç°çš„é¡ºåºï¼Œç´¢å¼•ä»0å¼€å§‹ã€‚
    limit èµ·å§‹ä½ç½®, è·å–æ¡æ•°
    çœç•¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä»ç´¢å¼•0å¼€å§‹ã€‚limit è·å–æ¡æ•°
h. DISTINCT, ALL é€‰é¡¹
    distinct å»é™¤é‡å¤è®°å½•
    é»˜è®¤ä¸º all, å…¨éƒ¨è®°å½•
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="union" tabindex="-1"><a class="header-anchor" href="#union" aria-hidden="true">#</a> UNION</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* UNION */ ------------------
    å°†å¤šä¸ªselectæŸ¥è¯¢çš„ç»“æœç»„åˆæˆä¸€ä¸ªç»“æœé›†åˆã€‚
    SELECT ... UNION [ALL|DISTINCT] SELECT ...
    é»˜è®¤ DISTINCT æ–¹å¼ï¼Œå³æ‰€æœ‰è¿”å›çš„è¡Œéƒ½æ˜¯å”¯ä¸€çš„
    å»ºè®®ï¼Œå¯¹æ¯ä¸ªSELECTæŸ¥è¯¢åŠ ä¸Šå°æ‹¬å·åŒ…è£¹ã€‚
    ORDER BY æ’åºæ—¶ï¼Œéœ€åŠ ä¸Š LIMIT è¿›è¡Œç»“åˆã€‚
    éœ€è¦å„selectæŸ¥è¯¢çš„å­—æ®µæ•°é‡ä¸€æ ·ã€‚
    æ¯ä¸ªselectæŸ¥è¯¢çš„å­—æ®µåˆ—è¡¨(æ•°é‡ã€ç±»å‹)åº”ä¸€è‡´ï¼Œå› ä¸ºç»“æœä¸­çš„å­—æ®µåä»¥ç¬¬ä¸€æ¡selectè¯­å¥ä¸ºå‡†ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å­æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#å­æŸ¥è¯¢" aria-hidden="true">#</a> å­æŸ¥è¯¢</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* å­æŸ¥è¯¢ */ ------------------
    - å­æŸ¥è¯¢éœ€ç”¨æ‹¬å·åŒ…è£¹ã€‚
-- fromå‹
    fromåè¦æ±‚æ˜¯ä¸€ä¸ªè¡¨ï¼Œå¿…é¡»ç»™å­æŸ¥è¯¢ç»“æœå–ä¸ªåˆ«åã€‚
    - ç®€åŒ–æ¯ä¸ªæŸ¥è¯¢å†…çš„æ¡ä»¶ã€‚
    - fromå‹éœ€å°†ç»“æœç”Ÿæˆä¸€ä¸ªä¸´æ—¶è¡¨æ ¼ï¼Œå¯ç”¨ä»¥åŸè¡¨çš„é”å®šçš„é‡Šæ”¾ã€‚
    - å­æŸ¥è¯¢è¿”å›ä¸€ä¸ªè¡¨ï¼Œè¡¨å‹å­æŸ¥è¯¢ã€‚
    select * from (select * from tb where id&gt;0) as subfrom where id&gt;1;
-- whereå‹
    - å­æŸ¥è¯¢è¿”å›ä¸€ä¸ªå€¼ï¼Œæ ‡é‡å­æŸ¥è¯¢ã€‚
    - ä¸éœ€è¦ç»™å­æŸ¥è¯¢å–åˆ«åã€‚
    - whereå­æŸ¥è¯¢å†…çš„è¡¨ï¼Œä¸èƒ½ç›´æ¥ç”¨ä»¥æ›´æ–°ã€‚
    select * from tb where money = (select max(money) from tb);
    -- åˆ—å­æŸ¥è¯¢
        å¦‚æœå­æŸ¥è¯¢ç»“æœè¿”å›çš„æ˜¯ä¸€åˆ—ã€‚
        ä½¿ç”¨ in æˆ– not in å®ŒæˆæŸ¥è¯¢
        exists å’Œ not exists æ¡ä»¶
            å¦‚æœå­æŸ¥è¯¢è¿”å›æ•°æ®ï¼Œåˆ™è¿”å›1æˆ–0ã€‚å¸¸ç”¨äºåˆ¤æ–­æ¡ä»¶ã€‚
            select column1 from t1 where exists (select * from t2);
    -- è¡Œå­æŸ¥è¯¢
        æŸ¥è¯¢æ¡ä»¶æ˜¯ä¸€ä¸ªè¡Œã€‚
        select * from t1 where (id, gender) in (select id, gender from t2);
        è¡Œæ„é€ ç¬¦ï¼š(col1, col2, ...) æˆ– ROW(col1, col2, ...)
        è¡Œæ„é€ ç¬¦é€šå¸¸ç”¨äºä¸å¯¹èƒ½è¿”å›ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šåˆ—çš„å­æŸ¥è¯¢è¿›è¡Œæ¯”è¾ƒã€‚
    -- ç‰¹æ®Šè¿ç®—ç¬¦
    != all()    ç›¸å½“äº not in
    = some()    ç›¸å½“äº inã€‚any æ˜¯ some çš„åˆ«å
    != some()   ä¸ç­‰åŒäº not inï¼Œä¸ç­‰äºå…¶ä¸­æŸä¸€ä¸ªã€‚
    all, some å¯ä»¥é…åˆå…¶ä»–è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿æ¥æŸ¥è¯¢-join" tabindex="-1"><a class="header-anchor" href="#è¿æ¥æŸ¥è¯¢-join" aria-hidden="true">#</a> è¿æ¥æŸ¥è¯¢(join)</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* è¿æ¥æŸ¥è¯¢(join) */ ------------------
    å°†å¤šä¸ªè¡¨çš„å­—æ®µè¿›è¡Œè¿æ¥ï¼Œå¯ä»¥æŒ‡å®šè¿æ¥æ¡ä»¶ã€‚
-- å†…è¿æ¥(inner join)
    - é»˜è®¤å°±æ˜¯å†…è¿æ¥ï¼Œå¯çœç•¥innerã€‚
    - åªæœ‰æ•°æ®å­˜åœ¨æ—¶æ‰èƒ½å‘é€è¿æ¥ã€‚å³è¿æ¥ç»“æœä¸èƒ½å‡ºç°ç©ºè¡Œã€‚
    on è¡¨ç¤ºè¿æ¥æ¡ä»¶ã€‚å…¶æ¡ä»¶è¡¨è¾¾å¼ä¸whereç±»ä¼¼ã€‚ä¹Ÿå¯ä»¥çœç•¥æ¡ä»¶ï¼ˆè¡¨ç¤ºæ¡ä»¶æ°¸è¿œä¸ºçœŸï¼‰
    ä¹Ÿå¯ç”¨whereè¡¨ç¤ºè¿æ¥æ¡ä»¶ã€‚
    è¿˜æœ‰ using, ä½†éœ€å­—æ®µåç›¸åŒã€‚ using(å­—æ®µå)
    -- äº¤å‰è¿æ¥ cross join
        å³ï¼Œæ²¡æœ‰æ¡ä»¶çš„å†…è¿æ¥ã€‚
        select * from tb1 cross join tb2;
-- å¤–è¿æ¥(outer join)
    - å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œä¹Ÿä¼šå‡ºç°åœ¨è¿æ¥ç»“æœä¸­ã€‚
    -- å·¦å¤–è¿æ¥ left join
        å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œå·¦è¡¨è®°å½•ä¼šå‡ºç°ï¼Œè€Œå³è¡¨ä¸ºnullå¡«å……
    -- å³å¤–è¿æ¥ right join
        å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œå³è¡¨è®°å½•ä¼šå‡ºç°ï¼Œè€Œå·¦è¡¨ä¸ºnullå¡«å……
-- è‡ªç„¶è¿æ¥(natural join)
    è‡ªåŠ¨åˆ¤æ–­è¿æ¥æ¡ä»¶å®Œæˆè¿æ¥ã€‚
    ç›¸å½“äºçœç•¥äº†usingï¼Œä¼šè‡ªåŠ¨æŸ¥æ‰¾ç›¸åŒå­—æ®µåã€‚
    natural join
    natural left join
    natural right join
select info.id, info.name, info.stu_num, extra_info.hobby, extra_info.sex from info, extra_info where info.stu_num = extra_info.stu_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="truncate" tabindex="-1"><a class="header-anchor" href="#truncate" aria-hidden="true">#</a> TRUNCATE</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* TRUNCATE */ ------------------
TRUNCATE [TABLE] tbl_name
æ¸…ç©ºæ•°æ®
åˆ é™¤é‡å»ºè¡¨
åŒºåˆ«ï¼š
1ï¼Œtruncate æ˜¯åˆ é™¤è¡¨å†åˆ›å»ºï¼Œdelete æ˜¯é€æ¡åˆ é™¤
2ï¼Œtruncate é‡ç½®auto_incrementçš„å€¼ã€‚è€Œdeleteä¸ä¼š
3ï¼Œtruncate ä¸çŸ¥é“åˆ é™¤äº†å‡ æ¡ï¼Œè€ŒdeleteçŸ¥é“ã€‚
4ï¼Œå½“è¢«ç”¨äºå¸¦åˆ†åŒºçš„è¡¨æ—¶ï¼Œtruncate ä¼šä¿ç•™åˆ†åŒº
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤‡ä»½ä¸è¿˜åŸ" tabindex="-1"><a class="header-anchor" href="#å¤‡ä»½ä¸è¿˜åŸ" aria-hidden="true">#</a> å¤‡ä»½ä¸è¿˜åŸ</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* å¤‡ä»½ä¸è¿˜åŸ */ ------------------
å¤‡ä»½ï¼Œå°†æ•°æ®çš„ç»“æ„ä¸è¡¨å†…æ•°æ®ä¿å­˜èµ·æ¥ã€‚
åˆ©ç”¨ mysqldump æŒ‡ä»¤å®Œæˆã€‚
-- å¯¼å‡º
mysqldump [options] db_name [tables]
mysqldump [options] ---database DB1 [DB2 DB3...]
mysqldump [options] --all--database
1. å¯¼å‡ºä¸€å¼ è¡¨
ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  åº“å è¡¨å &gt; æ–‡ä»¶å(D:/a.sql)
2. å¯¼å‡ºå¤šå¼ è¡¨
ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  åº“å è¡¨1 è¡¨2 è¡¨3 &gt; æ–‡ä»¶å(D:/a.sql)
3. å¯¼å‡ºæ‰€æœ‰è¡¨
ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  åº“å &gt; æ–‡ä»¶å(D:/a.sql)
4. å¯¼å‡ºä¸€ä¸ªåº“
ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  --lock-all-tables --database åº“å &gt; æ–‡ä»¶å(D:/a.sql)
å¯ä»¥-wæºå¸¦WHEREæ¡ä»¶
-- å¯¼å…¥
1. åœ¨ç™»å½•mysqlçš„æƒ…å†µä¸‹ï¼š
ã€€ã€€source  å¤‡ä»½æ–‡ä»¶
2. åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹
ã€€ã€€mysql -uç”¨æˆ·å -på¯†ç  åº“å &lt; å¤‡ä»½æ–‡ä»¶
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è§†å›¾" tabindex="-1"><a class="header-anchor" href="#è§†å›¾" aria-hidden="true">#</a> è§†å›¾</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>ä»€ä¹ˆæ˜¯è§†å›¾ï¼š
    è§†å›¾æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œå…¶å†…å®¹ç”±æŸ¥è¯¢å®šä¹‰ã€‚åŒçœŸå®çš„è¡¨ä¸€æ ·ï¼Œè§†å›¾åŒ…å«ä¸€ç³»åˆ—å¸¦æœ‰åç§°çš„åˆ—å’Œè¡Œæ•°æ®ã€‚ä½†æ˜¯ï¼Œè§†å›¾å¹¶ä¸åœ¨æ•°æ®åº“ä¸­ä»¥å­˜å‚¨çš„æ•°æ®å€¼é›†å½¢å¼å­˜åœ¨ã€‚è¡Œå’Œåˆ—æ•°æ®æ¥è‡ªç”±å®šä¹‰è§†å›¾çš„æŸ¥è¯¢æ‰€å¼•ç”¨çš„è¡¨ï¼Œå¹¶ä¸”åœ¨å¼•ç”¨è§†å›¾æ—¶åŠ¨æ€ç”Ÿæˆã€‚
    è§†å›¾å…·æœ‰è¡¨ç»“æ„æ–‡ä»¶ï¼Œä½†ä¸å­˜åœ¨æ•°æ®æ–‡ä»¶ã€‚
    å¯¹å…¶ä¸­æ‰€å¼•ç”¨çš„åŸºç¡€è¡¨æ¥è¯´ï¼Œè§†å›¾çš„ä½œç”¨ç±»ä¼¼äºç­›é€‰ã€‚å®šä¹‰è§†å›¾çš„ç­›é€‰å¯ä»¥æ¥è‡ªå½“å‰æˆ–å…¶å®ƒæ•°æ®åº“çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ï¼Œæˆ–è€…å…¶å®ƒè§†å›¾ã€‚é€šè¿‡è§†å›¾è¿›è¡ŒæŸ¥è¯¢æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œé€šè¿‡å®ƒä»¬è¿›è¡Œæ•°æ®ä¿®æ”¹æ—¶çš„é™åˆ¶ä¹Ÿå¾ˆå°‘ã€‚
    è§†å›¾æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æŸ¥è¯¢çš„sqlè¯­å¥ï¼Œå®ƒä¸»è¦å‡ºäºä¸¤ç§åŸå› ï¼šå®‰å…¨åŸå› ï¼Œè§†å›¾å¯ä»¥éšè—ä¸€äº›æ•°æ®ï¼Œå¦‚ï¼šç¤¾ä¼šä¿é™©åŸºé‡‘è¡¨ï¼Œå¯ä»¥ç”¨è§†å›¾åªæ˜¾ç¤ºå§“åï¼Œåœ°å€ï¼Œè€Œä¸æ˜¾ç¤ºç¤¾ä¼šä¿é™©å·å’Œå·¥èµ„æ•°ç­‰ï¼Œå¦ä¸€åŸå› æ˜¯å¯ä½¿å¤æ‚çš„æŸ¥è¯¢æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚
-- åˆ›å»ºè§†å›¾
CREATE [OR REPLACE] [ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}] VIEW view_name [(column_list)] AS select_statement
    - è§†å›¾åå¿…é¡»å”¯ä¸€ï¼ŒåŒæ—¶ä¸èƒ½ä¸è¡¨é‡åã€‚
    - è§†å›¾å¯ä»¥ä½¿ç”¨selectè¯­å¥æŸ¥è¯¢åˆ°çš„åˆ—åï¼Œä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šç›¸åº”çš„åˆ—åã€‚
    - å¯ä»¥æŒ‡å®šè§†å›¾æ‰§è¡Œçš„ç®—æ³•ï¼Œé€šè¿‡ALGORITHMæŒ‡å®šã€‚
    - column_listå¦‚æœå­˜åœ¨ï¼Œåˆ™æ•°ç›®å¿…é¡»ç­‰äºSELECTè¯­å¥æ£€ç´¢çš„åˆ—æ•°
-- æŸ¥çœ‹ç»“æ„
    SHOW CREATE VIEW view_name
-- åˆ é™¤è§†å›¾
    - åˆ é™¤è§†å›¾åï¼Œæ•°æ®ä¾ç„¶å­˜åœ¨ã€‚
    - å¯åŒæ—¶åˆ é™¤å¤šä¸ªè§†å›¾ã€‚
    DROP VIEW [IF EXISTS] view_name ...
-- ä¿®æ”¹è§†å›¾ç»“æ„
    - ä¸€èˆ¬ä¸ä¿®æ”¹è§†å›¾ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰çš„æ›´æ–°è§†å›¾éƒ½ä¼šæ˜ å°„åˆ°è¡¨ä¸Šã€‚
    ALTER VIEW view_name [(column_list)] AS select_statement
-- è§†å›¾ä½œç”¨
    1. ç®€åŒ–ä¸šåŠ¡é€»è¾‘
    2. å¯¹å®¢æˆ·ç«¯éšè—çœŸå®çš„è¡¨ç»“æ„
-- è§†å›¾ç®—æ³•(ALGORITHM)
    MERGE       åˆå¹¶
        å°†è§†å›¾çš„æŸ¥è¯¢è¯­å¥ï¼Œä¸å¤–éƒ¨æŸ¥è¯¢éœ€è¦å…ˆåˆå¹¶å†æ‰§è¡Œï¼
    TEMPTABLE   ä¸´æ—¶è¡¨
        å°†è§†å›¾æ‰§è¡Œå®Œæ¯•åï¼Œå½¢æˆä¸´æ—¶è¡¨ï¼Œå†åšå¤–å±‚æŸ¥è¯¢ï¼
    UNDEFINED   æœªå®šä¹‰(é»˜è®¤)ï¼ŒæŒ‡çš„æ˜¯MySQLè‡ªä¸»å»é€‰æ‹©ç›¸åº”çš„ç®—æ³•ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="äº‹åŠ¡-transaction" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡-transaction" aria-hidden="true">#</a> äº‹åŠ¡(transaction)</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>äº‹åŠ¡æ˜¯æŒ‡é€»è¾‘ä¸Šçš„ä¸€ç»„æ“ä½œï¼Œç»„æˆè¿™ç»„æ“ä½œçš„å„ä¸ªå•å…ƒï¼Œè¦ä¸å…¨æˆåŠŸè¦ä¸å…¨å¤±è´¥ã€‚
    - æ”¯æŒè¿ç»­SQLçš„é›†ä½“æˆåŠŸæˆ–é›†ä½“æ’¤é”€ã€‚
    - äº‹åŠ¡æ˜¯æ•°æ®åº“åœ¨æ•°æ®å®Œæ•´æ€§æ–¹é¢çš„ä¸€ä¸ªåŠŸèƒ½ã€‚
    - éœ€è¦åˆ©ç”¨ InnoDB æˆ– BDB å­˜å‚¨å¼•æ“ï¼Œå¯¹è‡ªåŠ¨æäº¤çš„ç‰¹æ€§æ”¯æŒå®Œæˆã€‚
    - InnoDBè¢«ç§°ä¸ºäº‹åŠ¡å®‰å…¨å‹å¼•æ“ã€‚
-- äº‹åŠ¡å¼€å¯
    START TRANSACTION; æˆ–è€… BEGIN;
    å¼€å¯äº‹åŠ¡åï¼Œæ‰€æœ‰è¢«æ‰§è¡Œçš„SQLè¯­å¥å‡è¢«è®¤ä½œå½“å‰äº‹åŠ¡å†…çš„SQLè¯­å¥ã€‚
-- äº‹åŠ¡æäº¤
    COMMIT;
-- äº‹åŠ¡å›æ»š
    ROLLBACK;
    å¦‚æœéƒ¨åˆ†æ“ä½œå‘ç”Ÿé—®é¢˜ï¼Œæ˜ å°„åˆ°äº‹åŠ¡å¼€å¯å‰ã€‚
-- äº‹åŠ¡çš„ç‰¹æ€§
    1. åŸå­æ€§ï¼ˆAtomicityï¼‰
        äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚
    2. ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰
        äº‹åŠ¡å‰åæ•°æ®çš„å®Œæ•´æ€§å¿…é¡»ä¿æŒä¸€è‡´ã€‚
        - äº‹åŠ¡å¼€å§‹å’Œç»“æŸæ—¶ï¼Œå¤–éƒ¨æ•°æ®ä¸€è‡´
        - åœ¨æ•´ä¸ªäº‹åŠ¡è¿‡ç¨‹ä¸­ï¼Œæ“ä½œæ˜¯è¿ç»­çš„
    3. éš”ç¦»æ€§ï¼ˆIsolationï¼‰
        å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸èƒ½è¢«å…¶å®ƒç”¨æˆ·çš„äº‹åŠ¡æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´çš„æ•°æ®è¦ç›¸äº’éš”ç¦»ã€‚
    4. æŒä¹…æ€§ï¼ˆDurabilityï¼‰
        ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ã€‚
-- äº‹åŠ¡çš„å®ç°
    1. è¦æ±‚æ˜¯äº‹åŠ¡æ”¯æŒçš„è¡¨ç±»å‹
    2. æ‰§è¡Œä¸€ç»„ç›¸å…³çš„æ“ä½œå‰å¼€å¯äº‹åŠ¡
    3. æ•´ç»„æ“ä½œå®Œæˆåï¼Œéƒ½æˆåŠŸï¼Œåˆ™æäº¤ï¼›å¦‚æœå­˜åœ¨å¤±è´¥ï¼Œé€‰æ‹©å›æ»šï¼Œåˆ™ä¼šå›åˆ°äº‹åŠ¡å¼€å§‹çš„å¤‡ä»½ç‚¹ã€‚
-- äº‹åŠ¡çš„åŸç†
    åˆ©ç”¨InnoDBçš„è‡ªåŠ¨æäº¤(autocommit)ç‰¹æ€§å®Œæˆã€‚
    æ™®é€šçš„MySQLæ‰§è¡Œè¯­å¥åï¼Œå½“å‰çš„æ•°æ®æäº¤æ“ä½œå‡å¯è¢«å…¶ä»–å®¢æˆ·ç«¯å¯è§ã€‚
    è€Œäº‹åŠ¡æ˜¯æš‚æ—¶å…³é—­â€œè‡ªåŠ¨æäº¤â€æœºåˆ¶ï¼Œéœ€è¦commitæäº¤æŒä¹…åŒ–æ•°æ®æ“ä½œã€‚
-- æ³¨æ„
    1. æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰è¯­å¥ä¸èƒ½è¢«å›æ»šï¼Œæ¯”å¦‚åˆ›å»ºæˆ–å–æ¶ˆæ•°æ®åº“çš„è¯­å¥ï¼Œå’Œåˆ›å»ºã€å–æ¶ˆæˆ–æ›´æ”¹è¡¨æˆ–å­˜å‚¨çš„å­ç¨‹åºçš„è¯­å¥ã€‚
    2. äº‹åŠ¡ä¸èƒ½è¢«åµŒå¥—
-- ä¿å­˜ç‚¹
    SAVEPOINT ä¿å­˜ç‚¹åç§° -- è®¾ç½®ä¸€ä¸ªäº‹åŠ¡ä¿å­˜ç‚¹
    ROLLBACK TO SAVEPOINT ä¿å­˜ç‚¹åç§° -- å›æ»šåˆ°ä¿å­˜ç‚¹
    RELEASE SAVEPOINT ä¿å­˜ç‚¹åç§° -- åˆ é™¤ä¿å­˜ç‚¹
-- InnoDBè‡ªåŠ¨æäº¤ç‰¹æ€§è®¾ç½®
    SET autocommit = 0|1;   0è¡¨ç¤ºå…³é—­è‡ªåŠ¨æäº¤ï¼Œ1è¡¨ç¤ºå¼€å¯è‡ªåŠ¨æäº¤ã€‚
    - å¦‚æœå…³é—­äº†ï¼Œé‚£æ™®é€šæ“ä½œçš„ç»“æœå¯¹å…¶ä»–å®¢æˆ·ç«¯ä¹Ÿä¸å¯è§ï¼Œéœ€è¦commitæäº¤åæ‰èƒ½æŒä¹…åŒ–æ•°æ®æ“ä½œã€‚
    - ä¹Ÿå¯ä»¥å…³é—­è‡ªåŠ¨æäº¤æ¥å¼€å¯äº‹åŠ¡ã€‚ä½†ä¸START TRANSACTIONä¸åŒçš„æ˜¯ï¼Œ
        SET autocommitæ˜¯æ°¸ä¹…æ”¹å˜æœåŠ¡å™¨çš„è®¾ç½®ï¼Œç›´åˆ°ä¸‹æ¬¡å†æ¬¡ä¿®æ”¹è¯¥è®¾ç½®ã€‚(é’ˆå¯¹å½“å‰è¿æ¥)
        è€ŒSTART TRANSACTIONè®°å½•å¼€å¯å‰çš„çŠ¶æ€ï¼Œè€Œä¸€æ—¦äº‹åŠ¡æäº¤æˆ–å›æ»šåå°±éœ€è¦å†æ¬¡å¼€å¯äº‹åŠ¡ã€‚(é’ˆå¯¹å½“å‰äº‹åŠ¡)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é”è¡¨" tabindex="-1"><a class="header-anchor" href="#é”è¡¨" aria-hidden="true">#</a> é”è¡¨</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* é”è¡¨ */
è¡¨é”å®šåªç”¨äºé˜²æ­¢å…¶å®ƒå®¢æˆ·ç«¯è¿›è¡Œä¸æ­£å½“åœ°è¯»å–å’Œå†™å…¥
MyISAM æ”¯æŒè¡¨é”ï¼ŒInnoDB æ”¯æŒè¡Œé”
-- é”å®š
    LOCK TABLES tbl_name [AS alias]
-- è§£é”
    UNLOCK TABLES
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è§¦å‘å™¨" tabindex="-1"><a class="header-anchor" href="#è§¦å‘å™¨" aria-hidden="true">#</a> è§¦å‘å™¨</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* è§¦å‘å™¨ */ ------------------
    è§¦å‘ç¨‹åºæ˜¯ä¸è¡¨æœ‰å…³çš„å‘½åæ•°æ®åº“å¯¹è±¡ï¼Œå½“è¯¥è¡¨å‡ºç°ç‰¹å®šäº‹ä»¶æ—¶ï¼Œå°†æ¿€æ´»è¯¥å¯¹è±¡
    ç›‘å¬ï¼šè®°å½•çš„å¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤ã€‚
-- åˆ›å»ºè§¦å‘å™¨
CREATE TRIGGER trigger_name trigger_time trigger_event ON tbl_name FOR EACH ROW trigger_stmt
    å‚æ•°ï¼š
    trigger_timeæ˜¯è§¦å‘ç¨‹åºçš„åŠ¨ä½œæ—¶é—´ã€‚å®ƒå¯ä»¥æ˜¯ before æˆ– afterï¼Œä»¥æŒ‡æ˜è§¦å‘ç¨‹åºæ˜¯åœ¨æ¿€æ´»å®ƒçš„è¯­å¥ä¹‹å‰æˆ–ä¹‹åè§¦å‘ã€‚
    trigger_eventæŒ‡æ˜äº†æ¿€æ´»è§¦å‘ç¨‹åºçš„è¯­å¥çš„ç±»å‹
        INSERTï¼šå°†æ–°è¡Œæ’å…¥è¡¨æ—¶æ¿€æ´»è§¦å‘ç¨‹åº
        UPDATEï¼šæ›´æ”¹æŸä¸€è¡Œæ—¶æ¿€æ´»è§¦å‘ç¨‹åº
        DELETEï¼šä»è¡¨ä¸­åˆ é™¤æŸä¸€è¡Œæ—¶æ¿€æ´»è§¦å‘ç¨‹åº
    tbl_nameï¼šç›‘å¬çš„è¡¨ï¼Œå¿…é¡»æ˜¯æ°¸ä¹…æ€§çš„è¡¨ï¼Œä¸èƒ½å°†è§¦å‘ç¨‹åºä¸TEMPORARYè¡¨æˆ–è§†å›¾å…³è”èµ·æ¥ã€‚
    trigger_stmtï¼šå½“è§¦å‘ç¨‹åºæ¿€æ´»æ—¶æ‰§è¡Œçš„è¯­å¥ã€‚æ‰§è¡Œå¤šä¸ªè¯­å¥ï¼Œå¯ä½¿ç”¨BEGIN...ENDå¤åˆè¯­å¥ç»“æ„
-- åˆ é™¤
DROP TRIGGER [schema_name.]trigger_name
å¯ä»¥ä½¿ç”¨oldå’Œnewä»£æ›¿æ—§çš„å’Œæ–°çš„æ•°æ®
    æ›´æ–°æ“ä½œï¼Œæ›´æ–°å‰æ˜¯oldï¼Œæ›´æ–°åæ˜¯new.
    åˆ é™¤æ“ä½œï¼Œåªæœ‰old.
    å¢åŠ æ“ä½œï¼Œåªæœ‰new.
-- æ³¨æ„
    1. å¯¹äºå…·æœ‰ç›¸åŒè§¦å‘ç¨‹åºåŠ¨ä½œæ—¶é—´å’Œäº‹ä»¶çš„ç»™å®šè¡¨ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªè§¦å‘ç¨‹åºã€‚
-- å­—ç¬¦è¿æ¥å‡½æ•°
concat(str1,str2,...])
concat_ws(separator,str1,str2,...)
-- åˆ†æ”¯è¯­å¥
if æ¡ä»¶ then
    æ‰§è¡Œè¯­å¥
elseif æ¡ä»¶ then
    æ‰§è¡Œè¯­å¥
else
    æ‰§è¡Œè¯­å¥
end if;
-- ä¿®æ”¹æœ€å¤–å±‚è¯­å¥ç»“æŸç¬¦
delimiter è‡ªå®šä¹‰ç»“æŸç¬¦å·
    SQLè¯­å¥
è‡ªå®šä¹‰ç»“æŸç¬¦å·
delimiter ;     -- ä¿®æ”¹å›åŸæ¥çš„åˆ†å·
-- è¯­å¥å—åŒ…è£¹
begin
    è¯­å¥å—
end
-- ç‰¹æ®Šçš„æ‰§è¡Œ
1. åªè¦æ·»åŠ è®°å½•ï¼Œå°±ä¼šè§¦å‘ç¨‹åºã€‚
2. Insert into on duplicate key update è¯­æ³•ä¼šè§¦å‘ï¼š
    å¦‚æœæ²¡æœ‰é‡å¤è®°å½•ï¼Œä¼šè§¦å‘ before insert, after insert;
    å¦‚æœæœ‰é‡å¤è®°å½•å¹¶æ›´æ–°ï¼Œä¼šè§¦å‘ before insert, before update, after update;
    å¦‚æœæœ‰é‡å¤è®°å½•ä½†æ˜¯æ²¡æœ‰å‘ç”Ÿæ›´æ–°ï¼Œåˆ™è§¦å‘ before insert, before update
3. Replace è¯­æ³• å¦‚æœæœ‰è®°å½•ï¼Œåˆ™æ‰§è¡Œ before insert, before delete, after delete, after insert
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sqlç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#sqlç¼–ç¨‹" aria-hidden="true">#</a> SQLç¼–ç¨‹</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* SQLç¼–ç¨‹ */ ------------------
--// å±€éƒ¨å˜é‡ ----------
-- å˜é‡å£°æ˜
    declare var_name[,...] type [default value]
    è¿™ä¸ªè¯­å¥è¢«ç”¨æ¥å£°æ˜å±€éƒ¨å˜é‡ã€‚è¦ç»™å˜é‡æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¯·åŒ…å«ä¸€ä¸ªdefaultå­å¥ã€‚å€¼å¯ä»¥è¢«æŒ‡å®šä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸éœ€è¦ä¸ºä¸€ä¸ªå¸¸æ•°ã€‚å¦‚æœæ²¡æœ‰defaultå­å¥ï¼Œåˆå§‹å€¼ä¸ºnullã€‚
-- èµ‹å€¼
    ä½¿ç”¨ set å’Œ select into è¯­å¥ä¸ºå˜é‡èµ‹å€¼ã€‚
    - æ³¨æ„ï¼šåœ¨å‡½æ•°å†…æ˜¯å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡ï¼ˆç”¨æˆ·è‡ªå®šä¹‰çš„å˜é‡ï¼‰
--// å…¨å±€å˜é‡ ----------
-- å®šä¹‰ã€èµ‹å€¼
set è¯­å¥å¯ä»¥å®šä¹‰å¹¶ä¸ºå˜é‡èµ‹å€¼ã€‚
set @var = value;
ä¹Ÿå¯ä»¥ä½¿ç”¨select intoè¯­å¥ä¸ºå˜é‡åˆå§‹åŒ–å¹¶èµ‹å€¼ã€‚è¿™æ ·è¦æ±‚selectè¯­å¥åªèƒ½è¿”å›ä¸€è¡Œï¼Œä½†æ˜¯å¯ä»¥æ˜¯å¤šä¸ªå­—æ®µï¼Œå°±æ„å‘³ç€åŒæ—¶ä¸ºå¤šä¸ªå˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå˜é‡çš„æ•°é‡éœ€è¦ä¸æŸ¥è¯¢çš„åˆ—æ•°ä¸€è‡´ã€‚
è¿˜å¯ä»¥æŠŠèµ‹å€¼è¯­å¥çœ‹ä½œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé€šè¿‡selectæ‰§è¡Œå®Œæˆã€‚æ­¤æ—¶ä¸ºäº†é¿å…=è¢«å½“ä½œå…³ç³»è¿ç®—ç¬¦çœ‹å¾…ï¼Œä½¿ç”¨:=ä»£æ›¿ã€‚ï¼ˆsetè¯­å¥å¯ä»¥ä½¿ç”¨= å’Œ :=ï¼‰ã€‚
select @var:=20;
select @v1:=id, @v2=name from t1 limit 1;
select * from tbl_name where @var:=30;
select into å¯ä»¥å°†è¡¨ä¸­æŸ¥è¯¢è·å¾—çš„æ•°æ®èµ‹ç»™å˜é‡ã€‚
    -| select max(height) into @max_height from tb;
-- è‡ªå®šä¹‰å˜é‡å
ä¸ºäº†é¿å…selectè¯­å¥ä¸­ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„å˜é‡ä¸ç³»ç»Ÿæ ‡è¯†ç¬¦ï¼ˆé€šå¸¸æ˜¯å­—æ®µåï¼‰å†²çªï¼Œç”¨æˆ·è‡ªå®šä¹‰å˜é‡åœ¨å˜é‡åå‰ä½¿ç”¨@ä½œä¸ºå¼€å§‹ç¬¦å·ã€‚
@var=10;
    - å˜é‡è¢«å®šä¹‰åï¼Œåœ¨æ•´ä¸ªä¼šè¯å‘¨æœŸéƒ½æœ‰æ•ˆï¼ˆç™»å½•åˆ°é€€å‡ºï¼‰
--// æ§åˆ¶ç»“æ„ ----------
-- ifè¯­å¥
if search_condition then
    statement_list   
[elseif search_condition then
    statement_list]
...
[else
    statement_list]
end if;
-- caseè¯­å¥
CASE value WHEN [compare-value] THEN result
[WHEN [compare-value] THEN result ...]
[ELSE result]
END
-- whileå¾ªç¯
[begin_label:] while search_condition do
    statement_list
end while [end_label];
- å¦‚æœéœ€è¦åœ¨å¾ªç¯å†…æå‰ç»ˆæ­¢ whileå¾ªç¯ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ ‡ç­¾ï¼›æ ‡ç­¾éœ€è¦æˆå¯¹å‡ºç°ã€‚
    -- é€€å‡ºå¾ªç¯
        é€€å‡ºæ•´ä¸ªå¾ªç¯ leave
        é€€å‡ºå½“å‰å¾ªç¯ iterate
        é€šè¿‡é€€å‡ºçš„æ ‡ç­¾å†³å®šé€€å‡ºå“ªä¸ªå¾ªç¯
--// å†…ç½®å‡½æ•° ----------
-- æ•°å€¼å‡½æ•°
abs(x)          -- ç»å¯¹å€¼ abs(-10.9) = 10
format(x, d)    -- æ ¼å¼åŒ–åƒåˆ†ä½æ•°å€¼ format(1234567.456, 2) = 1,234,567.46
ceil(x)         -- å‘ä¸Šå–æ•´ ceil(10.1) = 11
floor(x)        -- å‘ä¸‹å–æ•´ floor (10.1) = 10
round(x)        -- å››èˆäº”å…¥å»æ•´
mod(m, n)       -- m%n m mod n æ±‚ä½™ 10%3=1
pi()            -- è·å¾—åœ†å‘¨ç‡
pow(m, n)       -- m^n
sqrt(x)         -- ç®—æœ¯å¹³æ–¹æ ¹
rand()          -- éšæœºæ•°
truncate(x, d)  -- æˆªå–dä½å°æ•°
-- æ—¶é—´æ—¥æœŸå‡½æ•°
now(), current_timestamp();     -- å½“å‰æ—¥æœŸæ—¶é—´
current_date();                 -- å½“å‰æ—¥æœŸ
current_time();                 -- å½“å‰æ—¶é—´
date(&#39;yyyy-mm-dd hh:ii:ss&#39;);    -- è·å–æ—¥æœŸéƒ¨åˆ†
time(&#39;yyyy-mm-dd hh:ii:ss&#39;);    -- è·å–æ—¶é—´éƒ¨åˆ†
date_format(&#39;yyyy-mm-dd hh:ii:ss&#39;, &#39;%d %y %a %d %m %b %j&#39;); -- æ ¼å¼åŒ–æ—¶é—´
unix_timestamp();               -- è·å¾—unixæ—¶é—´æˆ³
from_unixtime();                -- ä»æ—¶é—´æˆ³è·å¾—æ—¶é—´
-- å­—ç¬¦ä¸²å‡½æ•°
length(string)          -- stringé•¿åº¦ï¼Œå­—èŠ‚
char_length(string)     -- stringçš„å­—ç¬¦ä¸ªæ•°
substring(str, position [,length])      -- ä»strçš„positionå¼€å§‹,å–lengthä¸ªå­—ç¬¦
replace(str ,search_str ,replace_str)   -- åœ¨strä¸­ç”¨replace_stræ›¿æ¢search_str
instr(string ,substring)    -- è¿”å›substringé¦–æ¬¡åœ¨stringä¸­å‡ºç°çš„ä½ç½®
concat(string [,...])   -- è¿æ¥å­—ä¸²
charset(str)            -- è¿”å›å­—ä¸²å­—ç¬¦é›†
lcase(string)           -- è½¬æ¢æˆå°å†™
left(string, length)    -- ä»string2ä¸­çš„å·¦è¾¹èµ·å–lengthä¸ªå­—ç¬¦
load_file(file_name)    -- ä»æ–‡ä»¶è¯»å–å†…å®¹
locate(substring, string [,start_position]) -- åŒinstr,ä½†å¯æŒ‡å®šå¼€å§‹ä½ç½®
lpad(string, length, pad)   -- é‡å¤ç”¨padåŠ åœ¨stringå¼€å¤´,ç›´åˆ°å­—ä¸²é•¿åº¦ä¸ºlength
ltrim(string)           -- å»é™¤å‰ç«¯ç©ºæ ¼
repeat(string, count)   -- é‡å¤countæ¬¡
rpad(string, length, pad)   --åœ¨stråç”¨padè¡¥å……,ç›´åˆ°é•¿åº¦ä¸ºlength
rtrim(string)           -- å»é™¤åç«¯ç©ºæ ¼
strcmp(string1 ,string2)    -- é€å­—ç¬¦æ¯”è¾ƒä¸¤å­—ä¸²å¤§å°
-- æµç¨‹å‡½æ•°
case when [condition] then result [when [condition] then result ...] [else result] end   å¤šåˆ†æ”¯
if(expr1,expr2,expr3)  åŒåˆ†æ”¯ã€‚
-- èšåˆå‡½æ•°
count()
sum();
max();
min();
avg();
group_concat()
-- å…¶ä»–å¸¸ç”¨å‡½æ•°
md5();
default();
--// å­˜å‚¨å‡½æ•°ï¼Œè‡ªå®šä¹‰å‡½æ•° ----------
-- æ–°å»º
    CREATE FUNCTION function_name (å‚æ•°åˆ—è¡¨) RETURNS è¿”å›å€¼ç±»å‹
        å‡½æ•°ä½“
    - å‡½æ•°åï¼Œåº”è¯¥åˆæ³•çš„æ ‡è¯†ç¬¦ï¼Œå¹¶ä¸”ä¸åº”è¯¥ä¸å·²æœ‰çš„å…³é”®å­—å†²çªã€‚
    - ä¸€ä¸ªå‡½æ•°åº”è¯¥å±äºæŸä¸ªæ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨db_name.funciton_nameçš„å½¢å¼æ‰§è¡Œå½“å‰å‡½æ•°æ‰€å±æ•°æ®åº“ï¼Œå¦åˆ™ä¸ºå½“å‰æ•°æ®åº“ã€‚
    - å‚æ•°éƒ¨åˆ†ï¼Œç”±&quot;å‚æ•°å&quot;å’Œ&quot;å‚æ•°ç±»å‹&quot;ç»„æˆã€‚å¤šä¸ªå‚æ•°ç”¨é€—å·éš”å¼€ã€‚
    - å‡½æ•°ä½“ç”±å¤šæ¡å¯ç”¨çš„mysqlè¯­å¥ï¼Œæµç¨‹æ§åˆ¶ï¼Œå˜é‡å£°æ˜ç­‰è¯­å¥æ„æˆã€‚
    - å¤šæ¡è¯­å¥åº”è¯¥ä½¿ç”¨ begin...end è¯­å¥å—åŒ…å«ã€‚
    - ä¸€å®šè¦æœ‰ return è¿”å›å€¼è¯­å¥ã€‚
-- åˆ é™¤
    DROP FUNCTION [IF EXISTS] function_name;
-- æŸ¥çœ‹
    SHOW FUNCTION STATUS LIKE &#39;partten&#39;
    SHOW CREATE FUNCTION function_name;
-- ä¿®æ”¹
    ALTER FUNCTION function_name å‡½æ•°é€‰é¡¹
--// å­˜å‚¨è¿‡ç¨‹ï¼Œè‡ªå®šä¹‰åŠŸèƒ½ ----------
-- å®šä¹‰
å­˜å‚¨å­˜å‚¨è¿‡ç¨‹ æ˜¯ä¸€æ®µä»£ç ï¼ˆè¿‡ç¨‹ï¼‰ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„sqlç»„æˆã€‚
ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹é€šå¸¸ç”¨äºå®Œæˆä¸€æ®µä¸šåŠ¡é€»è¾‘ï¼Œä¾‹å¦‚æŠ¥åï¼Œäº¤ç­è´¹ï¼Œè®¢å•å…¥åº“ç­‰ã€‚
è€Œä¸€ä¸ªå‡½æ•°é€šå¸¸ä¸“æ³¨ä¸æŸä¸ªåŠŸèƒ½ï¼Œè§†ä¸ºå…¶ä»–ç¨‹åºæœåŠ¡çš„ï¼Œéœ€è¦åœ¨å…¶ä»–è¯­å¥ä¸­è°ƒç”¨å‡½æ•°æ‰å¯ä»¥ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹ä¸èƒ½è¢«å…¶ä»–è°ƒç”¨ï¼Œæ˜¯è‡ªå·±æ‰§è¡Œ é€šè¿‡callæ‰§è¡Œã€‚
-- åˆ›å»º
CREATE PROCEDURE sp_name (å‚æ•°åˆ—è¡¨)
    è¿‡ç¨‹ä½“
å‚æ•°åˆ—è¡¨ï¼šä¸åŒäºå‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼Œéœ€è¦æŒ‡æ˜å‚æ•°ç±»å‹
INï¼Œè¡¨ç¤ºè¾“å…¥å‹
OUTï¼Œè¡¨ç¤ºè¾“å‡ºå‹
INOUTï¼Œè¡¨ç¤ºæ··åˆå‹
æ³¨æ„ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å­˜å‚¨è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨è¿‡ç¨‹" aria-hidden="true">#</a> å­˜å‚¨è¿‡ç¨‹</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* å­˜å‚¨è¿‡ç¨‹ */ ------------------
å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸€æ®µå¯æ‰§è¡Œæ€§ä»£ç çš„é›†åˆã€‚ç›¸æ¯”å‡½æ•°ï¼Œæ›´åå‘äºä¸šåŠ¡é€»è¾‘ã€‚
è°ƒç”¨ï¼šCALL è¿‡ç¨‹å
-- æ³¨æ„
- æ²¡æœ‰è¿”å›å€¼ã€‚
- åªèƒ½å•ç‹¬è°ƒç”¨ï¼Œä¸å¯å¤¹æ‚åœ¨å…¶ä»–è¯­å¥ä¸­
-- å‚æ•°
IN|OUT|INOUT å‚æ•°å æ•°æ®ç±»å‹
IN      è¾“å…¥ï¼šåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå°†æ•°æ®è¾“å…¥åˆ°è¿‡ç¨‹ä½“å†…éƒ¨çš„å‚æ•°
OUT     è¾“å‡ºï¼šåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå°†è¿‡ç¨‹ä½“å¤„ç†å®Œçš„ç»“æœè¿”å›åˆ°å®¢æˆ·ç«¯
INOUT   è¾“å…¥è¾“å‡ºï¼šæ—¢å¯è¾“å…¥ï¼Œä¹Ÿå¯è¾“å‡º
-- è¯­æ³•
CREATE PROCEDURE è¿‡ç¨‹å (å‚æ•°åˆ—è¡¨)
BEGIN
    è¿‡ç¨‹ä½“
END
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”¨æˆ·å’Œæƒé™ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ç”¨æˆ·å’Œæƒé™ç®¡ç†" aria-hidden="true">#</a> ç”¨æˆ·å’Œæƒé™ç®¡ç†</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* ç”¨æˆ·å’Œæƒé™ç®¡ç† */ ------------------
-- rootå¯†ç é‡ç½®
1. åœæ­¢MySQLæœåŠ¡
2.  [Linux] /usr/local/mysql/bin/safe_mysqld --skip-grant-tables &amp;
    [Windows] mysqld --skip-grant-tables
3. use mysql;
4. UPDATE `user` SET PASSWORD=PASSWORD(&quot;å¯†ç &quot;) WHERE `user` = &quot;root&quot;;
5. FLUSH PRIVILEGES;
ç”¨æˆ·ä¿¡æ¯è¡¨ï¼šmysql.user
-- åˆ·æ–°æƒé™
FLUSH PRIVILEGES;
-- å¢åŠ ç”¨æˆ·
CREATE USER ç”¨æˆ·å IDENTIFIED BY [PASSWORD] å¯†ç (å­—ç¬¦ä¸²)
    - å¿…é¡»æ‹¥æœ‰mysqlæ•°æ®åº“çš„å…¨å±€CREATE USERæƒé™ï¼Œæˆ–æ‹¥æœ‰INSERTæƒé™ã€‚
    - åªèƒ½åˆ›å»ºç”¨æˆ·ï¼Œä¸èƒ½èµ‹äºˆæƒé™ã€‚
    - ç”¨æˆ·åï¼Œæ³¨æ„å¼•å·ï¼šå¦‚ &#39;user_name&#39;@&#39;192.168.1.1&#39;
    - å¯†ç ä¹Ÿéœ€å¼•å·ï¼Œçº¯æ•°å­—å¯†ç ä¹Ÿè¦åŠ å¼•å·
    - è¦åœ¨çº¯æ–‡æœ¬ä¸­æŒ‡å®šå¯†ç ï¼Œéœ€å¿½ç•¥PASSWORDå…³é”®è¯ã€‚è¦æŠŠå¯†ç æŒ‡å®šä¸ºç”±PASSWORD()å‡½æ•°è¿”å›çš„æ··ç¼–å€¼ï¼Œéœ€åŒ…å«å…³é”®å­—PASSWORD
-- é‡å‘½åç”¨æˆ·
RENAME USER old_user TO new_user
-- è®¾ç½®å¯†ç 
SET PASSWORD = PASSWORD(&#39;å¯†ç &#39;)  -- ä¸ºå½“å‰ç”¨æˆ·è®¾ç½®å¯†ç 
SET PASSWORD FOR ç”¨æˆ·å = PASSWORD(&#39;å¯†ç &#39;) -- ä¸ºæŒ‡å®šç”¨æˆ·è®¾ç½®å¯†ç 
-- åˆ é™¤ç”¨æˆ·
DROP USER ç”¨æˆ·å
-- åˆ†é…æƒé™/æ·»åŠ ç”¨æˆ·
GRANT æƒé™åˆ—è¡¨ ON è¡¨å TO ç”¨æˆ·å [IDENTIFIED BY [PASSWORD] &#39;password&#39;]
    - all privileges è¡¨ç¤ºæ‰€æœ‰æƒé™
    - *.* è¡¨ç¤ºæ‰€æœ‰åº“çš„æ‰€æœ‰è¡¨
    - åº“å.è¡¨å è¡¨ç¤ºæŸåº“ä¸‹é¢çš„æŸè¡¨
    GRANT ALL PRIVILEGES ON `pms`.* TO &#39;pms&#39;@&#39;%&#39; IDENTIFIED BY &#39;pms0817&#39;;
-- æŸ¥çœ‹æƒé™
SHOW GRANTS FOR ç”¨æˆ·å
    -- æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™
    SHOW GRANTS; æˆ– SHOW GRANTS FOR CURRENT_USER; æˆ– SHOW GRANTS FOR CURRENT_USER();
-- æ’¤æ¶ˆæƒé™
REVOKE æƒé™åˆ—è¡¨ ON è¡¨å FROM ç”¨æˆ·å
REVOKE ALL PRIVILEGES, GRANT OPTION FROM ç”¨æˆ·å   -- æ’¤é”€æ‰€æœ‰æƒé™
-- æƒé™å±‚çº§
-- è¦ä½¿ç”¨GRANTæˆ–REVOKEï¼Œæ‚¨å¿…é¡»æ‹¥æœ‰GRANT OPTIONæƒé™ï¼Œå¹¶ä¸”æ‚¨å¿…é¡»ç”¨äºæ‚¨æ­£åœ¨æˆäºˆæˆ–æ’¤é”€çš„æƒé™ã€‚
å…¨å±€å±‚çº§ï¼šå…¨å±€æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šæœåŠ¡å™¨ä¸­çš„æ‰€æœ‰æ•°æ®åº“ï¼Œmysql.user
    GRANT ALL ON *.*å’Œ REVOKE ALL ON *.*åªæˆäºˆå’Œæ’¤é”€å…¨å±€æƒé™ã€‚
æ•°æ®åº“å±‚çº§ï¼šæ•°æ®åº“æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šæ•°æ®åº“ä¸­çš„æ‰€æœ‰ç›®æ ‡ï¼Œmysql.db, mysql.host
    GRANT ALL ON db_name.*å’ŒREVOKE ALL ON db_name.*åªæˆäºˆå’Œæ’¤é”€æ•°æ®åº“æƒé™ã€‚
è¡¨å±‚çº§ï¼šè¡¨æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šè¡¨ä¸­çš„æ‰€æœ‰åˆ—ï¼Œmysql.talbes_priv
    GRANT ALL ON db_name.tbl_nameå’ŒREVOKE ALL ON db_name.tbl_nameåªæˆäºˆå’Œæ’¤é”€è¡¨æƒé™ã€‚
åˆ—å±‚çº§ï¼šåˆ—æƒé™é€‚ç”¨äºä¸€ä¸ªç»™å®šè¡¨ä¸­çš„å•ä¸€åˆ—ï¼Œmysql.columns_priv
    å½“ä½¿ç”¨REVOKEæ—¶ï¼Œæ‚¨å¿…é¡»æŒ‡å®šä¸è¢«æˆæƒåˆ—ç›¸åŒçš„åˆ—ã€‚
-- æƒé™åˆ—è¡¨
ALL [PRIVILEGES]    -- è®¾ç½®é™¤GRANT OPTIONä¹‹å¤–çš„æ‰€æœ‰ç®€å•æƒé™
ALTER   -- å…è®¸ä½¿ç”¨ALTER TABLE
ALTER ROUTINE   -- æ›´æ”¹æˆ–å–æ¶ˆå·²å­˜å‚¨çš„å­ç¨‹åº
CREATE  -- å…è®¸ä½¿ç”¨CREATE TABLE
CREATE ROUTINE  -- åˆ›å»ºå·²å­˜å‚¨çš„å­ç¨‹åº
CREATE TEMPORARY TABLES     -- å…è®¸ä½¿ç”¨CREATE TEMPORARY TABLE
CREATE USER     -- å…è®¸ä½¿ç”¨CREATE USER, DROP USER, RENAME USERå’ŒREVOKE ALL PRIVILEGESã€‚
CREATE VIEW     -- å…è®¸ä½¿ç”¨CREATE VIEW
DELETE  -- å…è®¸ä½¿ç”¨DELETE
DROP    -- å…è®¸ä½¿ç”¨DROP TABLE
EXECUTE     -- å…è®¸ç”¨æˆ·è¿è¡Œå·²å­˜å‚¨çš„å­ç¨‹åº
FILE    -- å…è®¸ä½¿ç”¨SELECT...INTO OUTFILEå’ŒLOAD DATA INFILE
INDEX   -- å…è®¸ä½¿ç”¨CREATE INDEXå’ŒDROP INDEX
INSERT  -- å…è®¸ä½¿ç”¨INSERT
LOCK TABLES     -- å…è®¸å¯¹æ‚¨æ‹¥æœ‰SELECTæƒé™çš„è¡¨ä½¿ç”¨LOCK TABLES
PROCESS     -- å…è®¸ä½¿ç”¨SHOW FULL PROCESSLIST
REFERENCES  -- æœªè¢«å®æ–½
RELOAD  -- å…è®¸ä½¿ç”¨FLUSH
REPLICATION CLIENT  -- å…è®¸ç”¨æˆ·è¯¢é—®ä»å±æœåŠ¡å™¨æˆ–ä¸»æœåŠ¡å™¨çš„åœ°å€
REPLICATION SLAVE   -- ç”¨äºå¤åˆ¶å‹ä»å±æœåŠ¡å™¨ï¼ˆä»ä¸»æœåŠ¡å™¨ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ï¼‰
SELECT  -- å…è®¸ä½¿ç”¨SELECT
SHOW DATABASES  -- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“
SHOW VIEW   -- å…è®¸ä½¿ç”¨SHOW CREATE VIEW
SHUTDOWN    -- å…è®¸ä½¿ç”¨mysqladmin shutdown
SUPER   -- å…è®¸ä½¿ç”¨CHANGE MASTER, KILL, PURGE MASTER LOGSå’ŒSET GLOBALè¯­å¥ï¼Œmysqladmin debugå‘½ä»¤ï¼›å…è®¸æ‚¨è¿æ¥ï¼ˆä¸€æ¬¡ï¼‰ï¼Œå³ä½¿å·²è¾¾åˆ°max_connectionsã€‚
UPDATE  -- å…è®¸ä½¿ç”¨UPDATE
USAGE   -- â€œæ— æƒé™â€çš„åŒä¹‰è¯
GRANT OPTION    -- å…è®¸æˆäºˆæƒé™
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¡¨ç»´æŠ¤" tabindex="-1"><a class="header-anchor" href="#è¡¨ç»´æŠ¤" aria-hidden="true">#</a> è¡¨ç»´æŠ¤</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* è¡¨ç»´æŠ¤ */
-- åˆ†æå’Œå­˜å‚¨è¡¨çš„å…³é”®å­—åˆ†å¸ƒ
ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE è¡¨å ...
-- æ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨æ˜¯å¦æœ‰é”™è¯¯
CHECK TABLE tbl_name [, tbl_name] ... [option] ...
option = {QUICK | FAST | MEDIUM | EXTENDED | CHANGED}
-- æ•´ç†æ•°æ®æ–‡ä»¶çš„ç¢ç‰‡
OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‚é¡¹" tabindex="-1"><a class="header-anchor" href="#æ‚é¡¹" aria-hidden="true">#</a> æ‚é¡¹</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>/* æ‚é¡¹ */ ------------------
1. å¯ç”¨åå¼•å·ï¼ˆ`ï¼‰ä¸ºæ ‡è¯†ç¬¦ï¼ˆåº“åã€è¡¨åã€å­—æ®µåã€ç´¢å¼•ã€åˆ«åï¼‰åŒ…è£¹ï¼Œä»¥é¿å…ä¸å…³é”®å­—é‡åï¼ä¸­æ–‡ä¹Ÿå¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼
2. æ¯ä¸ªåº“ç›®å½•å­˜åœ¨ä¸€ä¸ªä¿å­˜å½“å‰æ•°æ®åº“çš„é€‰é¡¹æ–‡ä»¶db.optã€‚
3. æ³¨é‡Šï¼š
    å•è¡Œæ³¨é‡Š # æ³¨é‡Šå†…å®¹
    å¤šè¡Œæ³¨é‡Š /* æ³¨é‡Šå†…å®¹ */
    å•è¡Œæ³¨é‡Š -- æ³¨é‡Šå†…å®¹     (æ ‡å‡†SQLæ³¨é‡Šé£æ ¼ï¼Œè¦æ±‚åŒç ´æŠ˜å·ååŠ ä¸€ç©ºæ ¼ç¬¦ï¼ˆç©ºæ ¼ã€TABã€æ¢è¡Œç­‰ï¼‰)
4. æ¨¡å¼é€šé…ç¬¦ï¼š
    _   ä»»æ„å•ä¸ªå­—ç¬¦
    %   ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œç”šè‡³åŒ…æ‹¬é›¶å­—ç¬¦
    å•å¼•å·éœ€è¦è¿›è¡Œè½¬ä¹‰ \&#39;
5. CMDå‘½ä»¤è¡Œå†…çš„è¯­å¥ç»“æŸç¬¦å¯ä»¥ä¸º &quot;;&quot;, &quot;\G&quot;, &quot;\g&quot;ï¼Œä»…å½±å“æ˜¾ç¤ºç»“æœã€‚å…¶ä»–åœ°æ–¹è¿˜æ˜¯ç”¨åˆ†å·ç»“æŸã€‚delimiter å¯ä¿®æ”¹å½“å‰å¯¹è¯çš„è¯­å¥ç»“æŸç¬¦ã€‚
6. SQLå¯¹å¤§å°å†™ä¸æ•æ„Ÿ
7. æ¸…é™¤å·²æœ‰è¯­å¥ï¼š\c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/heplex/EzfriDocs/edit/main/docs/RD/database/mysql/a-thousand-lines-of-mysql-study-notes.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/12/2 21:59:58</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zcilive@gmail.com">chun.zheng</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/ezdoc/RD/database/mysql/mysql-questions-01.html" class="nav-link prev" aria-label="MySQLçŸ¥è¯†ç‚¹&amp;é¢è¯•é¢˜æ€»ç»“"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->MySQLçŸ¥è¯†ç‚¹&amp;é¢è¯•é¢˜æ€»ç»“</div></a><a href="/ezdoc/RD/database/mysql/mysql-high-performance-optimization-specification-recommendations.html" class="nav-link next" aria-label="MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="https://beian.miit.gov.cn/" target="_blank">æµ™ICPå¤‡2021004971å·-2</a></div><div class="copyright">Copyright Â© 2022 EzFri</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/ezdoc/assets/app.e590b483.js" defer></script>
  </body>
</html>
